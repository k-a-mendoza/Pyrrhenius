<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pyrrhenius.mechanisms &mdash; Pyrrhenius 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/jupyter-sphinx.css?v=572af1d6" />
      <link rel="stylesheet" type="text/css" href="../../_static/thebelab.css" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=f2a433a1"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=f281be69"></script>
        <script src="../../_static/thebelab-helper.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Pyrrhenius
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Sections</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../userguide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api.html">Pyrrhenius API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Pyrrhenius</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Module code</a></li>
      <li class="breadcrumb-item active">pyrrhenius.mechanisms</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for pyrrhenius.mechanisms</h1><div class="highlight"><pre>
<span></span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">reduce</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span> <span class="nn">pyfluids</span> <span class="kn">import</span> <span class="n">Fluid</span><span class="p">,</span> <span class="n">FluidsList</span><span class="p">,</span> <span class="n">Input</span>
<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">ABC</span><span class="p">,</span> <span class="n">abstractmethod</span>

<span class="kn">import</span> <span class="nn">inspect</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">utils</span> <span class="k">as</span> <span class="n">pyutils</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">CONSTANTS</span>




<div class="viewcode-block" id="Mechanism">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.Mechanism">[docs]</a>
<span class="k">class</span> <span class="nc">Mechanism</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base Abstract class for all electrical conductivity MultiMechanism&quot;&quot;&quot;</span>


    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">defaults</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span><span class="n">value</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">CONSTANTS</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        
        <span class="c1"># Override defaults with any provided keyword arguments</span>
        <span class="n">defaults</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
        
        <span class="c1"># Assign attributes based on the final configuration</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">defaults</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">repr_properties</span> <span class="o">=</span> <span class="p">[]</span>

<div class="viewcode-block" id="Mechanism.set_water_units">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.Mechanism.set_water_units">[docs]</a>
    <span class="k">def</span> <span class="nf">set_water_units</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">units</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the units for water</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        units : str</span>
<span class="sd">            The units the model uses for water. Should be either wtpct or ppm</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">water_units</span> <span class="o">=</span> <span class="n">units</span></div>


<div class="viewcode-block" id="Mechanism.convert_water">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.Mechanism.convert_water">[docs]</a>
    <span class="k">def</span> <span class="nf">convert_water</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Cw</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Convert water value to the equation specific units</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        cw : float</span>
<span class="sd">            The water value to be converted</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The converted water value</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        NotImplementedError</span>
<span class="sd">            If the specified conversion units are not implemented</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="n">Cw</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Water value must be provided&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">water_units</span> <span class="o">==</span> <span class="s1">&#39;wtpct&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Cw</span> <span class="o">*</span> <span class="mf">1e-4</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">water_units</span> <span class="o">==</span> <span class="s1">&#39;wtpct10x&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Cw</span> <span class="o">*</span> <span class="mf">1e-5</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">water_units</span> <span class="o">==</span> <span class="s1">&#39;ppm&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Cw</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">water_units</span> <span class="o">==</span> <span class="s1">&#39;total_frac&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Cw</span><span class="o">*</span><span class="mf">1e-6</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">water_units</span><span class="si">}</span><span class="s2"> conversion not implemented&quot;</span>
            <span class="p">)</span></div>


<div class="viewcode-block" id="Mechanism.convert_co2">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.Mechanism.convert_co2">[docs]</a>
    <span class="k">def</span> <span class="nf">convert_co2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">co2</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Convert co2 value to the specified units</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        co2 : float</span>
<span class="sd">            The co2 value to be converted</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The converted co2 value</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        NotImplementedError</span>
<span class="sd">            If the specified conversion units are not implemented</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="n">co2</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;co2 value must be provided&quot;</span>
        <span class="k">return</span> <span class="n">co2</span></div>


<div class="viewcode-block" id="Mechanism.convert_pressure">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.Mechanism.convert_pressure">[docs]</a>
    <span class="k">def</span> <span class="nf">convert_pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">P</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Convert pressure value to eV units</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        P : float</span>
<span class="sd">            The pressure value to be converted in GPa</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The converted pressure value in eV</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">P</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">cm3GPamol_to_ev</span></div>

    
    <span class="k">def</span> <span class="nf">_parameter_assertion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">variable</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        asserts the provided value provided is correct</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        variable : float or np.ndarray</span>
<span class="sd">            the value to be assessedd</span>

<span class="sd">        name : str </span>
<span class="sd">            the name of the variable type</span>

<span class="sd">        Raises</span>
<span class="sd">        -------</span>
<span class="sd">        assertionError</span>
<span class="sd">            if variable is of a nature not digestible by the Mechanism Child Class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">variable</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> not provided. Pass </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> as a keyword-argument&quot;</span>
        <span class="k">assert</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">variable</span><span class="p">)),</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> variable contains only NaNs. Passed parameter must contain at least one non NaN value&quot;</span>


    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_get_conductivity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the conductivity of the substance.</span>

<span class="sd">        Listed here are the available parameters. However, most child classes may only need two or three parameters. See documentation for more details. </span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        T : float or np.ndarray , optional</span>
<span class="sd">            The temperature value (default is None)</span>
<span class="sd">        P : float or np.ndarray , optional</span>
<span class="sd">            The pressure value in GPa (default is None)</span>
<span class="sd">        co2 : float or np.ndarray , optional</span>
<span class="sd">            The CO2 value (default is None)</span>
<span class="sd">        Cw : float or np.ndarray , optional</span>
<span class="sd">            The water value (default is None)</span>
<span class="sd">        nacl : float or np.ndarray , optional</span>
<span class="sd">            The NaCl concentration in wt% (default is None)</span>
<span class="sd">        sio2 : float or np.ndarray , optional</span>
<span class="sd">            The SiO2 concentration in wt% (default is None)</span>
<span class="sd">        na2o : float or np.ndarray , optional</span>
<span class="sd">            The na2o fraction (default is None)</span>
<span class="sd">        logfo2 : float or np.ndarray , optional</span>
<span class="sd">            The log oxygen fugacity value (default is None)</span>
<span class="sd">        Xfe : float or np.ndarray , optional</span>
<span class="sd">            The iron fraction value (default is None)</span>
<span class="sd">        sample : bool, optional</span>
<span class="sd">            whether to draw a random sample from the constant values using published or inferred uncertainties. default is False</span>
<span class="sd">        **kwargs : dict</span>
<span class="sd">            Additional keyword arguments</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        np.ndarray or float</span>
<span class="sd">            The calculated conductivity</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>
   

<div class="viewcode-block" id="Mechanism.get_conductivity">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.Mechanism.get_conductivity">[docs]</a>
    <span class="k">def</span> <span class="nf">get_conductivity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">check_assertions</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculate the conductivity of the mechanism.</span>

<span class="sd">        Listed here are the available parameters. However, most child classes may only need two or three parameters. See documentation for more details. </span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        check_assertions : bool, optional</span>
<span class="sd">            whether to check input keywords for existence. Defaults to True</span>
<span class="sd">        T : float or np.ndarray , optional</span>
<span class="sd">            The temperature value (default is None)</span>
<span class="sd">        P : float or np.ndarray , optional</span>
<span class="sd">            The pressure value in GPa (default is None)</span>
<span class="sd">        co2 : float or np.ndarray , optional</span>
<span class="sd">            The CO2 value (default is None)</span>
<span class="sd">        Cw : float or np.ndarray , optional</span>
<span class="sd">            The water value (default is None)</span>
<span class="sd">        nacl : float or np.ndarray , optional</span>
<span class="sd">            The NaCl concentration in wt% (default is None)</span>
<span class="sd">        sio2 : float or np.ndarray , optional</span>
<span class="sd">            The SiO2 concentration in wt% (default is None)</span>
<span class="sd">        na2o : float or np.ndarray , optional</span>
<span class="sd">            The na2o fraction (default is None)</span>
<span class="sd">        logfo2 : float or np.ndarray , optional</span>
<span class="sd">            The log oxygen fugacity value (default is None)</span>
<span class="sd">        Xfe : float or np.ndarray , optional</span>
<span class="sd">            The iron fraction value (default is None)</span>
<span class="sd">        sample : bool, optional</span>
<span class="sd">            whether to draw a random sample from the constant values using published or inferred uncertainties. default is False</span>
<span class="sd">        **kwargs : dict</span>
<span class="sd">            Additional keyword arguments</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        np.ndarray or float</span>
<span class="sd">            The calculated conductivity</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        AssertionError</span>
<span class="sd">            error is raised if one or more keywords are not provided which are required by the mechanism</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">check_assertions</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameter_assertion</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_conductivity</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="Mechanism.parameter_assertion">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.Mechanism.parameter_assertion">[docs]</a>
    <span class="k">def</span> <span class="nf">parameter_assertion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">P</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">co2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">Cw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nacl</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sio2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">logfo2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">Xfe</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;convenience method for asserting passed kwargs are provided if needed by the method</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        T : float or np.ndarray , optional</span>
<span class="sd">            The temperature value (default is None)</span>
<span class="sd">        P : float or np.ndarray , optional</span>
<span class="sd">            The pressure value in GPa (default is None)</span>
<span class="sd">        co2 : float or np.ndarray , optional</span>
<span class="sd">            The CO2 value (default is None)</span>
<span class="sd">        Cw : float or np.ndarray , optional</span>
<span class="sd">            The water value (default is None)</span>
<span class="sd">        nacl : float or np.ndarray , optional</span>
<span class="sd">            The NaCl concentration in wt% (default is None)</span>
<span class="sd">        sio2 : float or np.ndarray , optional</span>
<span class="sd">            The SiO2 concentration in wt% (default is None)</span>
<span class="sd">        logfo2 : float or np.ndarray , optional</span>
<span class="sd">            The log oxygen fugacity value (default is None)</span>
<span class="sd">        Xfe : float or np.ndarray , optional</span>
<span class="sd">            The oxygen fraction value (default is None)</span>
<span class="sd">        **kwargs : dict</span>
<span class="sd">            Additional keyword arguments</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        AssertionError</span>
<span class="sd">            error is raised if one or more keywords are not provided which are required by the mechanism</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">uses_temperature</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_assertion</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">uses_pressure</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_assertion</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">uses_water</span><span class="p">:</span>
           <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_assertion</span><span class="p">(</span><span class="n">Cw</span><span class="p">,</span> <span class="s1">&#39;Cw&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">uses_nacl</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_assertion</span><span class="p">(</span><span class="n">nacl</span><span class="p">,</span> <span class="s1">&#39;nacl&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">uses_sio2</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_assertion</span><span class="p">(</span><span class="n">sio2</span><span class="p">,</span> <span class="s1">&#39;sio2&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">uses_co2</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_assertion</span><span class="p">(</span><span class="n">co2</span><span class="p">,</span> <span class="s1">&#39;co2&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">uses_fo2</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_assertion</span><span class="p">(</span><span class="n">logfo2</span><span class="p">,</span> <span class="s1">&#39;logfo2&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">uses_iron</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parameter_assertion</span><span class="p">(</span><span class="n">Xfe</span><span class="p">,</span> <span class="s1">&#39;Xfe&#39;</span><span class="p">)</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_temperature</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns whether the mechanism uses temperature or not</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if the mechanism uses temperature, False otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_water</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns whether the mechanism uses water or not</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if the mechanism uses water, False otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_nacl</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns whether the mechanism uses NaCl concentration or not</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if the mechanism uses NaCl, False otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">False</span>
    
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_sio2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns whether the mechanism uses NaCl concentration or not</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if the mechanism uses NaCl, False otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">False</span>
    
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_na2o</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns whether the mechanism uses na2o concentration or not</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if the mechanism uses NaCl, False otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_co2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns whether the mechanism uses co2 or not</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if the mechanism uses co2, False otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_iron</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns whether the mechanism uses iron or not</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if the mechanism uses iron, False otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns whether the mechanism uses pressure or not</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if the mechanism uses pressure, False otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_fo2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns whether the mechanism uses fo2 or not</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if the mechanism uses fo2, False otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">False</span>
    
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;String representation of a Mechanism class</span>

<span class="sd">        All __repr__ children must implement a routine which creates a human-readable math symbol corresponding to the represented equation. </span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        equation_str</span>
<span class="sd">            the string equation representation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>

<div class="viewcode-block" id="Mechanism.n_args">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.Mechanism.n_args">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">n_args</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the number of parameters needed to define the class instance.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        int</span>
<span class="sd">            The number of  positional parameters needed.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_count_positional_args_required</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="fm">__init__</span><span class="p">)</span></div>

    
    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">MultiMechanism</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">other</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="MultiMechanism">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.MultiMechanism">[docs]</a>
<span class="k">class</span> <span class="nc">MultiMechanism</span><span class="p">(</span><span class="n">Mechanism</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A combination of two or more mechanisms</span>

<span class="sd">    class is used when the overall electric conductivity is a linear combination of multiple mechanisms</span>

<span class="sd">    By itself it represents no explicit parameterization. </span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    mechanism_list : List[Mechanism]</span>
<span class="sd">        a list of mechanisms</span>
<span class="sd">    &quot;&quot;&quot;</span>
      

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">mechanism_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Mechanism</span><span class="p">]):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multi_mechanisms</span> <span class="o">=</span> <span class="n">mechanism_list</span> 

    <span class="k">def</span> <span class="nf">_get_conductivity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        calculates the conductivity</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        **kwargs : dict, optional</span>
<span class="sd">            parameters required by the object to calculate conductivity.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        np.ndarray or float</span>
<span class="sd">            The calculated conductivity</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">mechanism</span><span class="o">.</span><span class="n">_get_conductivity</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="k">for</span> <span class="n">mechanism</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">multi_mechanisms</span><span class="p">)</span>


   
<div class="viewcode-block" id="MultiMechanism.set_water_units">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.MultiMechanism.set_water_units">[docs]</a>
    <span class="k">def</span> <span class="nf">set_water_units</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets the units for water. </span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">mechanism</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">multi_mechanisms</span><span class="p">:</span>
            <span class="n">mechanism</span><span class="o">.</span><span class="n">set_water_units</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

        
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_water</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns whether the mechanism uses water or not</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if the mechanism uses water, False otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">mechanism</span><span class="o">.</span><span class="n">uses_water</span> <span class="k">for</span> <span class="n">mechanism</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">multi_mechanisms</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_nacl</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns whether the mechanism uses NaCl concentration or not</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if the mechanism uses NaCl, False otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">mechanism</span><span class="o">.</span><span class="n">uses_nacl</span> <span class="k">for</span> <span class="n">mechanism</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">multi_mechanisms</span><span class="p">)</span>
    
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_sio2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns whether the mechanism uses sio2 concentration or not</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if the mechanism uses sio2, False otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">mechanism</span><span class="o">.</span><span class="n">uses_sio2</span> <span class="k">for</span> <span class="n">mechanism</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">multi_mechanisms</span><span class="p">)</span>
    
    
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_na2o</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns whether the mechanism uses Na2O concentration or not</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if the mechanism uses Na2O, False otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">mechanism</span><span class="o">.</span><span class="n">uses_na2o</span> <span class="k">for</span> <span class="n">mechanism</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">multi_mechanisms</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_co2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns whether the mechanism uses co2 or not</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if the mechanism uses co2, False otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">mechanism</span><span class="o">.</span><span class="n">uses_co2</span> <span class="k">for</span> <span class="n">mechanism</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">multi_mechanisms</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_iron</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns whether the mechanism uses iron or not</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if the mechanism uses iron, False otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">mechanism</span><span class="o">.</span><span class="n">uses_iron</span> <span class="k">for</span> <span class="n">mechanism</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">multi_mechanisms</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns whether the mechanism uses pressure or not</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if the mechanism uses pressure, False otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">mechanism</span><span class="o">.</span><span class="n">uses_pressure</span> <span class="k">for</span> <span class="n">mechanism</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">multi_mechanisms</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_fo2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns whether the mechanism uses fo2 or not</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if the mechanism uses fo2, False otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">mechanism</span><span class="o">.</span><span class="n">uses_fo2</span> <span class="k">for</span> <span class="n">mechanism</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">multi_mechanisms</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; + &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">multi_mechanisms</span><span class="p">)</span></div>


   

    
<div class="viewcode-block" id="StochasticConstant">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.StochasticConstant">[docs]</a>
<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">StochasticConstant</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class for storing Equation Constants. Can be used to generate a random constant value based on provided uncertainties</span>

<span class="sd">    Mathematically, it is a constant value. </span>

<span class="sd">    .. math::</span>

<span class="sd">        c = c_{mean} + N(0,c_{stdev})</span>
<span class="sd">    </span>
<span class="sd">    if ``bool=True`` is sent, the constant is calculated as:</span>

<span class="sd">    .. math::</span>

<span class="sd">        c = 10^{c_{mean} + N(0,c_{stdev})}</span>

<span class="sd">    </span>
<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    get_value(self, sample=False, **kwargs)</span>
<span class="sd">        Calculates a constant value based on the provided uncertainties</span>
<span class="sd">        Parameters:</span>
<span class="sd">            sample : bool, optional</span>
<span class="sd">                Determines if the value should be sampled randomly based on the mean and standard deviation,</span>
<span class="sd">                default is False</span>
<span class="sd">            **kwargs : additional keyword arguments, optional</span>
<span class="sd">                Additional parameters that can be used in the calculation of the constant,</span>
<span class="sd">                not used in the current implementation</span>
<span class="sd">        Returns:</span>
<span class="sd">            float</span>
<span class="sd">                The calculated constant value</span>
<span class="sd">        </span>
<span class="sd">    __repr__(self)</span>
<span class="sd">        Returns a string representation of the StochasticConstant object</span>
<span class="sd">        Returns:</span>
<span class="sd">            str</span>
<span class="sd">                A string representation of the object</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="n">mean</span> <span class="p">:</span> <span class="nb">float</span>
    <span class="n">stdev</span> <span class="p">:</span> <span class="nb">float</span>
    <span class="nb">type</span> <span class="p">:</span> <span class="nb">str</span>
    <span class="n">log</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">isnan</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    
<div class="viewcode-block" id="StochasticConstant.get_value">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.StochasticConstant.get_value">[docs]</a>
    <span class="k">def</span> <span class="nf">get_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sample</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates a constant value based on the provided uncertainties</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        sample : bool, optional</span>
<span class="sd">            Determines if the value should be sampled randomly based on the mean and standard deviation,</span>
<span class="sd">            default is False</span>
<span class="sd">        **kwargs : additional keyword arguments, optional</span>
<span class="sd">            Additional parameters that can be used in the calculation of the constant,</span>
<span class="sd">            not used in the current implementation</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The calculated constant value</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">sample</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mean</span><span class="p">),</span> <span class="n">scale</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stdev</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mean</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">10</span><span class="o">**</span><span class="n">val</span>
        <span class="k">return</span> <span class="n">val</span></div>

    
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a string representation of the StochasticConstant object</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        str</span>
<span class="sd">            A string representation of the object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;10^</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">mean</span><span class="si">}</span><span class="s1">(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">stdev</span><span class="si">}</span><span class="s1">)&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">mean</span><span class="si">}</span><span class="s1">(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">stdev</span><span class="si">}</span><span class="s1">)&#39;</span></div>



<div class="viewcode-block" id="SingleValue">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.SingleValue">[docs]</a>
<span class="k">class</span> <span class="nc">SingleValue</span><span class="p">(</span><span class="n">Mechanism</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Electrical conductivity model which represents single values independent of P,T,fO2, or volatiles</span>

<span class="sd">    Mathematically, it is an unparamterized constant value. </span>
<span class="sd">    </span>
<span class="sd">    .. math::</span>

<span class="sd">        \\sigma = c</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    value : StochasticConstant</span>
<span class="sd">        The value represented as a StochasticConstant</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    float </span>
<span class="sd">        the conductivity value in s/m</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">value</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">=</span><span class="n">value</span>

    <span class="k">def</span> <span class="nf">_get_conductivity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the conductivity.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float or np.ndarray</span>
<span class="sd">            The conductivity in units of s/m</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">base_array</span> <span class="o">=</span> <span class="n">pyutils</span><span class="o">.</span><span class="n">create_starting_variable</span><span class="p">(</span><span class="n">starting_value</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">base_array</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span></div>

    

    
<div class="viewcode-block" id="ArrheniusSimple">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.ArrheniusSimple">[docs]</a>
<span class="k">class</span> <span class="nc">ArrheniusSimple</span><span class="p">(</span><span class="n">Mechanism</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a basic Arrhenius mechanism</span>

<span class="sd">    Mathematically, it is represented by</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma = a \\cdot exp(-\\frac{\Delta H } {k_b T})</span>

<span class="sd">    calculation of the preexponential constant and enthalpy is separated so that child classes can implement more sophisticated parameterizations</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    preexp : StochasticConstant</span>
<span class="sd">        the pre-exponential factor </span>

<span class="sd">    enthalpy : StochasticConstant</span>
<span class="sd">        Activation enthalpy in units of eV.</span>


<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    get_preexp(**kwargs)</span>
<span class="sd">        Get the value of the pre-exponential factor.</span>

<span class="sd">    get_enthalpy(*args, **kwargs)</span>
<span class="sd">        Get the value of the enthalpy.</span>

<span class="sd">    get_conductivity(T=None, **kwargs)</span>
<span class="sd">        Get the conductivity.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">preexp</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">enthalpy</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the ArrheniusSimple class</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        preexp : StochasticConstant</span>
<span class="sd">            the preexponential constant</span>
<span class="sd">        enthalpy : StochasticConstant</span>
<span class="sd">            the enthalpy constant</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preexp</span> <span class="o">=</span> <span class="n">preexp</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span> <span class="o">=</span> <span class="n">enthalpy</span>

<div class="viewcode-block" id="ArrheniusSimple.get_preexp">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.ArrheniusSimple.get_preexp">[docs]</a>
    <span class="k">def</span> <span class="nf">get_preexp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the value of the pre-exponential factor.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        kwargs : dict</span>
<span class="sd">            Optional keyword arguments.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The value of the pre-exponential factor.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">preexp</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="ArrheniusSimple.get_enthalpy">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.ArrheniusSimple.get_enthalpy">[docs]</a>
    <span class="k">def</span> <span class="nf">get_enthalpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the value of the enthalpy.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        kwargs : dict</span>
<span class="sd">            Optional keyword arguments.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The value of the enthalpy in units of eV.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="nf">_get_conductivity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the conductivity.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        T : float, optional</span>
<span class="sd">            The temperature value in units of kelvin.</span>

<span class="sd">        kwargs : dict</span>
<span class="sd">            Optional keyword arguments.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float or np.ndarray</span>
<span class="sd">            The conductivity in units of s/m</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">preexp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_preexp</span><span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="n">T</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">enthalpy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_enthalpy</span><span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="n">T</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">val</span> <span class="o">=</span> <span class="n">preexp</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">enthalpy</span> <span class="o">/</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">kb</span> <span class="o">*</span> <span class="n">T</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">val</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">preexp</span><span class="si">}</span><span class="s1"> exp( -</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span><span class="si">}</span><span class="s1">/kT)&#39;</span></div>



<div class="viewcode-block" id="LinkedArrhenius">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.LinkedArrhenius">[docs]</a>
<span class="k">class</span> <span class="nc">LinkedArrhenius</span><span class="p">(</span><span class="n">ArrheniusSimple</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Abstract Variation of the ArrheniusSimple class which is primarily used for linear volatile-dependent activation and preexponential factors. </span>
<span class="sd">    See Sifre et al. 2014 for an example.</span>

<span class="sd">    Mathematically, it is represented by</span>

<span class="sd">    .. math::</span>

<span class="sd">        E_a     = a \\cdot exp( b \\cdot volatile) + c</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma_0 = exp(E_a \\cdot d + e)</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma  = \\sigma_0 \\cdot exp(\\frac{E_a}{rT})</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    const1 : StochasticConstant</span>
<span class="sd">        Constant parameter 1.</span>
<span class="sd">    const2 : StochasticConstant</span>
<span class="sd">        Constant parameter 2.</span>
<span class="sd">    const3 : StochasticConstant</span>
<span class="sd">        Constant parameter 3.</span>
<span class="sd">    const4 : StochasticConstant</span>
<span class="sd">        Constant parameter 4.</span>
<span class="sd">    const5 : StochasticConstant</span>
<span class="sd">        Constant parameter 5.</span>


<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    _get_enthalpy(volatile, **kwargs)</span>
<span class="sd">        Calculate the value of the enthalpy.</span>
<span class="sd">    get_preexp(**kwargs)</span>
<span class="sd">        Get the value of the pre-exponential factor.</span>
<span class="sd">    get_conductivity(T=None, **kwargs)</span>
<span class="sd">        Get the conductivity.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">const1</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">const2</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">const3</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span>
                 <span class="n">const4</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">const5</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the LinkedArrhenius class</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        const1 : StochasticConstant</span>
<span class="sd">            Constant parameter 1.</span>
<span class="sd">        const2 : StochasticConstant</span>
<span class="sd">            Constant parameter 2.</span>
<span class="sd">        const3 : StochasticConstant</span>
<span class="sd">            Constant parameter 3.</span>
<span class="sd">        const4 : StochasticConstant</span>
<span class="sd">            Constant parameter 4.</span>
<span class="sd">        const5 : StochasticConstant</span>
<span class="sd">            Constant parameter 5.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const1</span> <span class="o">=</span> <span class="n">const1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const2</span> <span class="o">=</span> <span class="n">const2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const3</span> <span class="o">=</span> <span class="n">const3</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const4</span> <span class="o">=</span> <span class="n">const4</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const5</span> <span class="o">=</span> <span class="n">const5</span>



    <span class="k">def</span> <span class="nf">_get_volatile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;need to implement this function to use the mechanism&quot;</span><span class="p">)</span>
    
<div class="viewcode-block" id="LinkedArrhenius.get_enthalpy">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.LinkedArrhenius.get_enthalpy">[docs]</a>
    <span class="k">def</span> <span class="nf">get_enthalpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates enthalpy.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        kwargs : dict</span>
<span class="sd">            Optional keyword arguments.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The value of the enthalpy.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const1</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const2</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const3</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">volatile</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_volatile</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">b</span> <span class="o">*</span> <span class="n">volatile</span><span class="p">)</span> <span class="o">+</span> <span class="n">c</span></div>


<div class="viewcode-block" id="LinkedArrhenius.get_preexp">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.LinkedArrhenius.get_preexp">[docs]</a>
    <span class="k">def</span> <span class="nf">get_preexp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        calculates the preexponential value</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        volatile : float or np.ndarray</span>
<span class="sd">            the volatile value needed for computation of the model</span>

<span class="sd">        kwargs : dict</span>
<span class="sd">            Optional keyword arguments.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The value of the pre-exponential factor.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ea</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_enthalpy</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const4</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">e</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const5</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">ea</span> <span class="o">*</span> <span class="n">d</span> <span class="o">+</span> <span class="n">e</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="nf">_get_conductivity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the conductivity.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        T : float, optional</span>
<span class="sd">            The temperature value in Kelvin</span>
<span class="sd">        kwargs : dict</span>
<span class="sd">            Optional keyword arguments.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float or np.ndarray</span>
<span class="sd">            The conductivity in s/m.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">preexp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_preexp</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_enthalpy</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1e-3</span>
        <span class="k">return</span> <span class="n">preexp</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">h</span> <span class="o">/</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">r</span> <span class="o">*</span> <span class="n">T</span><span class="p">))</span>

<div class="viewcode-block" id="LinkedArrhenius.n_args">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.LinkedArrhenius.n_args">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">n_args</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the number of parameters needed to define the class instance.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        int</span>
<span class="sd">            The number of  positional parameters needed.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_count_positional_args_required</span><span class="p">(</span><span class="n">LinkedArrhenius</span><span class="o">.</span><span class="fm">__init__</span><span class="p">)</span></div>
</div>

        

<div class="viewcode-block" id="LinkedArrheniusWet">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.LinkedArrheniusWet">[docs]</a>
<span class="k">class</span> <span class="nc">LinkedArrheniusWet</span><span class="p">(</span><span class="n">LinkedArrhenius</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Variation of the LinkedArrhenius class that is specifically used for water-dependent conductivity</span>

<span class="sd">    Specification of water is done because water units may vary between authors. </span>

<span class="sd">    Mathematically, it is represented by:</span>

<span class="sd">    .. math::</span>

<span class="sd">        E_a     = a \\cdot exp( b \\cdot C_w) + c</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma_0 = exp(E_a \\cdot d + e)</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma  = \\sigma \\cdot exp(\\frac{E_a}{rT})</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    *args : StochasticConstant</span>
<span class="sd">        Variable number of positional arguments that are StochasticConstant instances.</span>


<span class="sd">    Properties</span>
<span class="sd">    ----------</span>
<span class="sd">    uses_water : bool</span>
<span class="sd">        Returns True </span>

<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    get_enthalpy(Cw=None, **kwargs)</span>
<span class="sd">        calculates the enthalpy value based on water contents.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the LinkedArrheniusWet class</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        *args : StochasticConstant</span>
<span class="sd">            the arguments to initialize the class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_water</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns True if water is used in the calculations.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if water is used, False otherwise.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">_get_volatile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">Cw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Gets and converts the value of the volatile needed for this mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        Cw : float or np.ndarray</span>

<span class="sd">        kwargs : dict [optional]</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_water</span><span class="p">(</span><span class="n">Cw</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cw</span></div>






<div class="viewcode-block" id="LinkedArrheniusCO2">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.LinkedArrheniusCO2">[docs]</a>
<span class="k">class</span> <span class="nc">LinkedArrheniusCO2</span><span class="p">(</span><span class="n">LinkedArrhenius</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Variation of the LinkedArrhenius class that is specifically used for CO2-dependent conductivity</span>

<span class="sd">    Mathematically, it is represented by:   </span>

<span class="sd">    .. math::</span>

<span class="sd">        E_a     = a \\cdot exp( b \\cdot CO_2) + c</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma_0 = exp(E_a \\cdot d + e)</span>

<span class="sd">    .. math::</span>
<span class="sd">        \\sigma  = \\sigma \\cdot exp(\\frac{E_a}{rT})</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    *args : StochasticConstant</span>
<span class="sd">        Variable number of positional arguments that are StochasticConstant instances.</span>


<span class="sd">    Properties</span>
<span class="sd">    ----------</span>
<span class="sd">    uses_co2: bool</span>
<span class="sd">        Returns True </span>

<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    get_enthalpy(Cw=None, **kwargs)</span>
<span class="sd">        calculates the enthalpy value based on water contents.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the LinkedArrheniusCO2 class</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        *args : StochasticConstant</span>
<span class="sd">            the arguments to initialize the class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_co2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">_get_volatile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">co2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Gets and converts the value of the volatile needed for this mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        co2 : float or np.ndarray</span>

<span class="sd">        kwargs : dict [optional]</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">co2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_co2</span><span class="p">(</span><span class="n">co2</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">co2</span></div>


<div class="viewcode-block" id="SIGMELTSPommier">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.SIGMELTSPommier">[docs]</a>
<span class="k">class</span> <span class="nc">SIGMELTSPommier</span><span class="p">(</span><span class="n">ArrheniusSimple</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class for calculating SiO2, Na2O, Water, P, and T depedent</span>
<span class="sd">    magma conductivity. The basics of the class were taken by web scraping</span>
<span class="sd">    the SIGMELTS portal: https://calcul-isto.cnrs-orleans.fr/apps/sigmelts/</span>

<span class="sd">    Which has a corresponding publication @doi: 10.1016/j.cageo.2011.01.002</span>

<span class="sd">    The parameterization is based on a natural-log space regression of the form:</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\Delta H^` = a + \\frac{b}{c \\cdot Na_2O + d} - e \\cdot Na_2O + f \\cdot P + g \\cdot C_w^2</span>

<span class="sd">    .. math::</span>

<span class="sd">        ln(\\sigma_0) = h + i \\cdot SiO_2 + j \\cdot T + k \\cdot P + l \\cdot ln(C_w) + m \\cdot Na_2O + n \\cdot C_w + o \\cdot \\frac{\\Delta H}{rT}</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma = \\sigma_0 \\cdot exp(\\frac{-\\Delta H^`}{k_b T})</span>

<span class="sd">    Where SiO2, Na2O, and Cw are in wt%, P is in MPa, and T is in Kelvin.</span>

<span class="sd">    no reported error on constants was available. I modify this class to have a reported error of 0.4 log units.</span>
<span class="sd">    Additionally, there are three forms of the constants, piecewise implemented across different silica activities. </span>

<span class="sd">    To make it compatible with Pyrrhenious, four transforms are needed:</span>

<span class="sd">    1. conversion of MPa into GPa</span>

<span class="sd">    2. conversion of the enthaly term  o * delta H / rT into  o * delta H / kT</span>

<span class="sd">    3. conversion of ppm Water inputs to wt% water</span>

<span class="sd">    4. conversion of these factors into simple conductivity. </span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    const1 : StochasticConstant</span>
<span class="sd">        standard state enthalpy</span>

<span class="sd">    const2 : StochasticConstant</span>
<span class="sd">        term1 enthalpy na2o</span>

<span class="sd">    const3 : StochasticConstant</span>
<span class="sd">        term2 enthalpy na2o</span>

<span class="sd">    const4 : StochasticConstant</span>
<span class="sd">        term3 enthalpy na2o</span>

<span class="sd">    const5 : StochasticConstant</span>
<span class="sd">        term4 enthalpy na2o</span>

<span class="sd">    const6 : StochasticConstant</span>
<span class="sd">        activation volume</span>

<span class="sd">    const7 : StochasticConstant</span>
<span class="sd">        squared water constant</span>

<span class="sd">    const8 : StochasticConstant</span>
<span class="sd">        base conductivity</span>

<span class="sd">    const9 : StochasticConstant</span>
<span class="sd">        silica activity</span>

<span class="sd">    const10 : StochasticConstant</span>
<span class="sd">        temperature species availability modifier</span>

<span class="sd">    const11 : StochasticConstant</span>
<span class="sd">        pressure species availability modifier</span>

<span class="sd">    const12 : StochasticConstant</span>
<span class="sd">        log water factor</span>

<span class="sd">    const13 : StochasticConstant</span>
<span class="sd">        na2O activity</span>

<span class="sd">    const14 : StochasticConstant</span>
<span class="sd">        linear water activity</span>

<span class="sd">    const15 : StochasticConstant</span>
<span class="sd">        static enthalpy modifier</span>

<span class="sd">    const16 : upper silica bound</span>

<span class="sd">    const17 : lower silica bound</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">const1</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span><span class="n">const2</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span><span class="n">const3</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span><span class="n">const4</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span>
                 <span class="n">const5</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span><span class="n">const6</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span><span class="n">const7</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span><span class="n">const8</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span>
                 <span class="n">const9</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span><span class="n">const10</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span><span class="n">const11</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span><span class="n">const12</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span>
                 <span class="n">const13</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span><span class="n">const14</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span><span class="n">const15</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span><span class="n">const16</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span>
                 <span class="n">const17</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">h_h0</span> <span class="o">=</span> <span class="n">const1</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">h_na2o1</span> <span class="o">=</span> <span class="n">const2</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">h_na2o2</span> <span class="o">=</span> <span class="n">const3</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">h_na2o3</span> <span class="o">=</span> <span class="n">const4</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">h_na2o4</span> <span class="o">=</span> <span class="n">const5</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">h_dV</span> <span class="o">=</span> <span class="n">const6</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">h_Cw</span> <span class="o">=</span> <span class="n">const7</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">s_c</span> <span class="o">=</span> <span class="n">const8</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">s_sio2</span> <span class="o">=</span> <span class="n">const9</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">s_T</span> <span class="o">=</span> <span class="n">const10</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">s_P</span> <span class="o">=</span> <span class="n">const11</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">s_logCw</span> <span class="o">=</span> <span class="n">const12</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">s_na2o</span> <span class="o">=</span> <span class="n">const13</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">s_Cw</span> <span class="o">=</span> <span class="n">const14</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">activation_modifier</span> <span class="o">=</span> <span class="n">const15</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">silica_upper</span> <span class="o">=</span> <span class="n">const16</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">silica_lower</span> <span class="o">=</span> <span class="n">const17</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>

<div class="viewcode-block" id="SIGMELTSPommier.get_enthalpy">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.SIGMELTSPommier.get_enthalpy">[docs]</a>
    <span class="k">def</span> <span class="nf">get_enthalpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">na2o</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">Cw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">P</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the value of the enthalpy.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        na2o : </span>
<span class="sd">            na2o equivalent concentration in wt%</span>

<span class="sd">        Cw: </span>
<span class="sd">            water concentration, converted to wt%</span>

<span class="sd">        P :</span>
<span class="sd">            pressure in GPa</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float or np.ndarray</span>
<span class="sd">            The value of the enthalpy in units of eV</span>

<span class="sd">        &quot;&quot;&quot;</span>
     
        <span class="n">linear_terms</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">h_h0</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">h_na2o4</span><span class="o">*</span><span class="n">na2o</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">h_dV</span><span class="o">*</span><span class="n">P</span> 
        <span class="n">nonlinear_terms</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">h_na2o1</span><span class="o">/</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">h_na2o2</span><span class="o">*</span><span class="n">na2o</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">h_na2o3</span><span class="p">))</span><span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">h_Cw</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">convert_water</span><span class="p">(</span><span class="n">Cw</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
        
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">activation_modifier</span> <span class="o">*</span> <span class="p">(</span><span class="n">linear_terms</span><span class="o">+</span><span class="n">nonlinear_terms</span><span class="p">)</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">kb</span><span class="o">/</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="o">*</span><span class="mf">1e3</span><span class="p">)</span>
        <span class="k">return</span> <span class="o">-</span><span class="n">result</span></div>


<div class="viewcode-block" id="SIGMELTSPommier.get_preexp">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.SIGMELTSPommier.get_preexp">[docs]</a>
    <span class="k">def</span> <span class="nf">get_preexp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">sio2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">Cw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">na2o</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">P</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">T</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the value of the preexponential factor.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        sio2 :</span>
<span class="sd">            silica equivalent concentration in wt%</span>

<span class="sd">        na2o : </span>
<span class="sd">            na2o equivalent concentration in wt%</span>

<span class="sd">        Cw: </span>
<span class="sd">            water concentration, converted to wt%</span>

<span class="sd">        P :</span>
<span class="sd">            pressure in GPa</span>

<span class="sd">        T : </span>
<span class="sd">            temperature in K</span>


<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The value of the enthalpy in units of eV.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># for stability, if Cw=0, set it to 0.01%</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">Cw</span><span class="p">,</span><span class="nb">float</span><span class="p">):</span>
            <span class="n">cw_prime</span><span class="o">=</span><span class="n">Cw</span>
            <span class="k">if</span> <span class="n">Cw</span> <span class="o">==</span><span class="mi">0</span><span class="p">:</span>
                <span class="n">cw_prime</span> <span class="o">=</span> <span class="mf">1e-2</span>
            
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cw_prime</span> <span class="o">=</span> <span class="n">Cw</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="n">cw_prime</span><span class="p">[</span><span class="n">Cw</span><span class="o">==</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="mf">1e-2</span>
        <span class="n">valid_mask</span> <span class="o">=</span>  <span class="p">(</span><span class="n">sio2</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">silica_lower</span><span class="p">)</span> <span class="o">&amp;</span>  <span class="p">(</span><span class="n">sio2</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">silica_upper</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">valid_mask</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">linear_terms</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s_c</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">s_sio2</span><span class="o">*</span><span class="n">sio2</span> <span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">s_T</span><span class="o">*</span><span class="n">T</span> <span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">s_P</span><span class="o">*</span><span class="n">P</span><span class="o">*</span><span class="mf">1e3</span> <span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">s_na2o</span><span class="o">*</span><span class="n">na2o</span> <span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">s_Cw</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">convert_water</span><span class="p">(</span><span class="n">cw_prime</span><span class="p">)</span>

            <span class="n">nonlinear_terms</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">s_logCw</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">convert_water</span><span class="p">(</span><span class="n">cw_prime</span><span class="p">))</span>
            <span class="n">total</span> <span class="o">=</span> <span class="n">linear_terms</span><span class="o">+</span><span class="n">nonlinear_terms</span>
            <span class="n">terms</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">total</span><span class="p">)</span>
        <span class="n">terms</span><span class="p">[</span><span class="o">~</span><span class="n">valid_mask</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span>
        <span class="k">return</span> <span class="n">terms</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_water</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>
    
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>
    
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_sio2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>
    
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_na2o</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    

<div class="viewcode-block" id="SIGMELTSGaillaird">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.SIGMELTSGaillaird">[docs]</a>
<span class="k">class</span> <span class="nc">SIGMELTSGaillaird</span><span class="p">(</span><span class="n">ArrheniusSimple</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class for calculating Water, P, and T depedent magma conductivity. The basics of the class were taken by web scraping</span>
<span class="sd">    the SIGMELTS portal: https://calcul-isto.cnrs-orleans.fr/apps/sigmelts/</span>

<span class="sd">    Which has a corresponding publication @doi: 10.1016/j.cageo.2011.01.002</span>

<span class="sd">    The parameterization is based on a natural-log space regression of the form:</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\Delta H^` = a \\cdot ln(water) + b + c \\cdot P</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma_0 = d \\cdot ln(C_w) + e</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma = \\sigma_0 \\cdot exp(\\frac{-\\Delta H^`}{k_b T})</span>

<span class="sd">    Where Cw is in wt%, P is in GPa, and T is in Kelvin.</span>

<span class="sd">    no reported error on constants was available. I modify this class to have a reported error of 0.4 log units.</span>
<span class="sd">    Additionally, there are three forms of the constants, piecewise implemented across different silica activities. </span>

<span class="sd">    To make it compatible with Pyrrhenious, four transforms are needed:</span>

<span class="sd">    1. conversion of MPa into GPa</span>

<span class="sd">    2. conversion of the enthaly term to use kb instead of r. </span>

<span class="sd">    3. conversion of ppm Water inputs to wt% water</span>

<span class="sd">    4. conversion of these factors into simple conductivity. </span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    const1 : StochasticConstant</span>
<span class="sd">        sigma_0 offset</span>

<span class="sd">    const2 : StochasticConstant</span>
<span class="sd">        water fit constant</span>

<span class="sd">    const3 : StochasticConstant</span>
<span class="sd">        standard state enthalpy</span>

<span class="sd">    const4 : StochasticConstant</span>
<span class="sd">        water fit constant</span>

<span class="sd">    const5 : StochasticConstant</span>
<span class="sd">        activation volume</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">const1</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span><span class="n">const2</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span><span class="n">const3</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span><span class="n">const4</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span>
                 <span class="n">const5</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">s_0</span> <span class="o">=</span> <span class="n">const1</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">s_lnCw</span> <span class="o">=</span> <span class="n">const2</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">h_h0</span> <span class="o">=</span> <span class="n">const3</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">h_lnCw</span> <span class="o">=</span> <span class="n">const4</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">h_dV</span> <span class="o">=</span> <span class="n">const5</span><span class="o">.</span><span class="n">get_value</span><span class="p">()</span>
       
       
        

<div class="viewcode-block" id="SIGMELTSGaillaird.get_enthalpy">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.SIGMELTSGaillaird.get_enthalpy">[docs]</a>
    <span class="k">def</span> <span class="nf">get_enthalpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">Cw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">P</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the value of the enthalpy.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>


<span class="sd">        Cw: </span>
<span class="sd">            water concentration, converted to wt%</span>

<span class="sd">        P :</span>
<span class="sd">            pressure in GPa</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float or np.ndarray</span>
<span class="sd">            The value of the enthalpy in units of eV</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">linear_terms</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">h_h0</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">h_dV</span><span class="o">*</span><span class="n">P</span> 
        <span class="n">nonlinear_terms</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">h_lnCw</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">convert_water</span><span class="p">(</span><span class="n">Cw</span><span class="p">))</span>
       
        <span class="k">return</span> <span class="p">(</span><span class="n">linear_terms</span><span class="o">+</span><span class="n">nonlinear_terms</span><span class="p">)</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">kb</span><span class="o">/</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="o">*</span><span class="mf">1e3</span><span class="p">)</span></div>


<div class="viewcode-block" id="SIGMELTSGaillaird.get_preexp">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.SIGMELTSGaillaird.get_preexp">[docs]</a>
    <span class="k">def</span> <span class="nf">get_preexp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">Cw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the value of the preexponential factor.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">       </span>
<span class="sd">        Cw: </span>
<span class="sd">            water concentration, converted to wt%</span>


<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The value of the enthalpy in units of eV.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">s_0</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">s_lnCw</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">convert_water</span><span class="p">(</span><span class="n">Cw</span><span class="p">))</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_water</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>
    
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    


<div class="viewcode-block" id="VogelFulcherTammanWet">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.VogelFulcherTammanWet">[docs]</a>
<span class="k">class</span> <span class="nc">VogelFulcherTammanWet</span><span class="p">(</span><span class="n">ArrheniusSimple</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class that represents a Vogel-Fulcher-Tamman equation for wet substances.</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma = a \\cdot exp( \\frac{b - c C_w^d}{k_b\cdot(T-T_0)})</span>

<span class="sd">    Inherits from the ArrheniusSimple class.</span>

<span class="sd">    Parameters:</span>
<span class="sd">    -----------</span>
<span class="sd">    preexp : StochasticConstant</span>
<span class="sd">        The pre-exponential factor of the equation.</span>
<span class="sd">    enthalpy : StochasticConstant</span>
<span class="sd">        The enthalpy of the equation.</span>
<span class="sd">    const1 : StochasticConstant</span>
<span class="sd">        The constant that affects the water contribution.</span>
<span class="sd">    const2 : StochasticConstant</span>
<span class="sd">        The exponent of the water contribution.</span>
<span class="sd">    const3 : StochasticConstant</span>
<span class="sd">        The constant for calculating the t0 parameter.</span>
<span class="sd">    **kwargs</span>
<span class="sd">        Additional keyword arguments to be passed to the parent class constructor.</span>


<span class="sd">    Methods:</span>
<span class="sd">    --------</span>
<span class="sd">    uses_water()</span>
<span class="sd">        Returns True, indicating that water is used in the equation.</span>
<span class="sd">    get_enthalpy(Cw=None, T=None, **kwargs)</span>
<span class="sd">        Calculates and returns the enthalpy of the equation involving water.</span>
<span class="sd">    get_conductivity(T=None, **kwargs)</span>
<span class="sd">        Calculates and returns the conductivity of the wet substance.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">preexp</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">enthalpy</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span><span class="n">const1</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span>
                 <span class="n">const2</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">const3</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">preexp</span><span class="p">,</span><span class="n">enthalpy</span><span class="p">)</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the VogelFulcherTammanWet object.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        preexp: StochasticConstant</span>
<span class="sd">            The pre-exponential factor of the equation.</span>
<span class="sd">        enthalpy: StochasticConstant</span>
<span class="sd">            The enthalpy of the equation.</span>
<span class="sd">        const1: StochasticConstant</span>
<span class="sd">            The constant that affects the water contribution.</span>
<span class="sd">        const2: StochasticConstant</span>
<span class="sd">            The exponent of the water contribution.</span>
<span class="sd">        const3: StochasticConstant</span>
<span class="sd">            The constant for calculating the t0 parameter.</span>
<span class="sd">   </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">preexp</span><span class="p">,</span> <span class="n">enthalpy</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const1</span> <span class="o">=</span> <span class="n">const1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const2</span> <span class="o">=</span> <span class="n">const2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const3</span> <span class="o">=</span> <span class="n">const3</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_water</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns True, indicating that water is used in the equation.</span>

<span class="sd">        Returns:</span>
<span class="sd">        --------</span>
<span class="sd">        bool</span>
<span class="sd">            True, indicating that water is used in the equation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span>

<div class="viewcode-block" id="VogelFulcherTammanWet.get_enthalpy">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.VogelFulcherTammanWet.get_enthalpy">[docs]</a>
    <span class="k">def</span> <span class="nf">get_enthalpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Cw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates and returns the enthalpy of the equation involving water.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        -----</span>
<span class="sd">        Cw : float, optional</span>
<span class="sd">            The amount of water involved in the equation. If not provided, the default value is None.</span>
<span class="sd">        T : float, optional</span>
<span class="sd">            The temperature at which the enthalpy is calculated. If not provided, the default value is None.</span>
<span class="sd">        **kwargs : dict</span>
<span class="sd">            Additional keyword arguments to be passed to the parent class method.</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The enthalpy of the equation in eV</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">h</span> <span class="o">=</span> <span class="n">ArrheniusSimple</span><span class="o">.</span><span class="n">get_enthalpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">T</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">Cw</span><span class="o">=</span><span class="n">Cw</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">w_effect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const1</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">exponent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const2</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">h</span> <span class="o">+</span> <span class="n">w_effect</span><span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_water</span><span class="p">(</span><span class="n">Cw</span><span class="p">)</span><span class="o">**</span><span class="n">exponent</span></div>


    <span class="k">def</span> <span class="nf">_get_conductivity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates and returns the conductivity of the wet substance.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        -----</span>
<span class="sd">        T : float, optional</span>
<span class="sd">            The temperature at which the conductivity is calculated. If not provided, the default value is None.</span>
<span class="sd">        **kwargs : dict</span>
<span class="sd">            Additional keyword arguments to be passed to the parent</span>

<span class="sd">        Returns:</span>
<span class="sd">        -------</span>
<span class="sd">        float or np.ndarray</span>
<span class="sd">            The conductivity in s/m</span>
<span class="sd">         &quot;&quot;&quot;</span>
        <span class="n">preexp</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_preexp</span><span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="n">T</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">enthalpy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_enthalpy</span><span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="n">T</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">t0</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const3</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">preexp</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">enthalpy</span> <span class="o">/</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">kb</span> <span class="o">*</span> <span class="p">(</span><span class="n">T</span><span class="o">-</span> <span class="n">t0</span><span class="p">)))</span></div>


<div class="viewcode-block" id="ArrheniusFugacity">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.ArrheniusFugacity">[docs]</a>
<span class="k">class</span> <span class="nc">ArrheniusFugacity</span><span class="p">(</span><span class="n">ArrheniusSimple</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; </span>
<span class="sd">    A class that represents a oxygen-fugacity dependent arrhenius preexponential constant</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma = a exp(\\frac{-\Delta H}{kT}) fO_2^c</span>

<span class="sd">    Inherits from the ArrheniusSimple class.</span>

<span class="sd">    Parameters:</span>
<span class="sd">    -----------</span>
<span class="sd">    preexp : StochasticConstant</span>
<span class="sd">        The pre-exponential factor of the equation.</span>
<span class="sd">    exponent : StochasticConstant</span>
<span class="sd">        The exponential factor for the oxygen fugacity</span>
<span class="sd">    enthalpy : StochasticConstant</span>
<span class="sd">        The enthalpy value of the equation. in eV</span>


<span class="sd">    Methods:</span>
<span class="sd">    --------</span>
<span class="sd">    uses_fo2()</span>
<span class="sd">        Returns True, indicating that oxygen fugacity is used in the equation.</span>
<span class="sd">    get_enthalpy(Cw=None, T=None, **kwargs)</span>
<span class="sd">        Calculates and returns the enthalpy of the equation involving water.</span>
<span class="sd">    get_conductivity(T=None, **kwargs)</span>
<span class="sd">        Calculates and returns the conductivity of the wet substance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">preexp</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">exponent</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">enthalpy</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the ArrheniusFugacity mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        preexp : StochasticConstant</span>
<span class="sd">            the preexponential constant</span>
<span class="sd">        exponent : StochasticConstant</span>
<span class="sd">            the exponent constant</span>
<span class="sd">        enthalpy : StochasticConstant</span>
<span class="sd">            the enthalpy constant</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">preexp</span><span class="p">,</span><span class="n">enthalpy</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exponent</span> <span class="o">=</span> <span class="n">exponent</span>

    <span class="k">def</span> <span class="nf">_get_conductivity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">logfo2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculates the conductivity using the Arrhenius equation with an additional factor from the oxygen fugacity.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        logfo2: float</span>
<span class="sd">            The logarithm of the oxygen fugacity. Must not be None.</span>
<span class="sd">        kwargs: dict</span>
<span class="sd">            Additional optional keyword arguments.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float or np.ndarray: </span>
<span class="sd">            The calculated conductivity.</span>

<span class="sd">        Raises</span>
<span class="sd">        -------</span>
<span class="sd">        AssertionError: </span>
<span class="sd">            f logfo2 is None.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">conductivity1</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_get_conductivity</span><span class="p">(</span><span class="n">logfo2</span><span class="o">=</span><span class="n">logfo2</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">conductivity1</span> <span class="o">*</span> <span class="p">(</span><span class="mi">10</span><span class="o">**</span><span class="n">logfo2</span><span class="p">)</span> <span class="o">**</span> <span class="bp">self</span><span class="o">.</span><span class="n">exponent</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">logfo2</span><span class="o">=</span><span class="n">logfo2</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_fo2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns True since the ArrheniusFugacity model uses oxygen fugacity.</span>

<span class="sd">        Returns</span>
<span class="sd">        --------</span>
<span class="sd">        bool: True.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">preexp</span><span class="si">}</span><span class="s1"> exp( -</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span><span class="si">}</span><span class="s1">/kT) fO2^</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">exponent</span><span class="si">}</span><span class="s1">&#39;</span></div>


<div class="viewcode-block" id="ArrheniusfO2">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.ArrheniusfO2">[docs]</a>
<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">ArrheniusfO2</span><span class="p">(</span><span class="n">Mechanism</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    an arrhenius equation with an additional term for oxygen fugacity</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma = exp(log_{10}(a) - \\frac{b}{kT} + c*log(fO2))</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">preexp</span> <span class="p">:</span> <span class="n">StochasticConstant</span>
    <span class="n">enthalpy</span> <span class="p">:</span> <span class="n">StochasticConstant</span>
    <span class="n">const</span> <span class="p">:</span> <span class="n">StochasticConstant</span>

    <span class="k">def</span> <span class="nf">_get_conductivity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">logfo2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">T</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculates the conductivity</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        logfo2 : float or np.ndarray, optional</span>
<span class="sd">            logfo2 value, by default None</span>
<span class="sd">        T : float or np.ndarray, optional</span>
<span class="sd">            temperature value, by default None</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        conductivity: float or np.ndarray</span>
<span class="sd">            conductivity value in S/m</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">preexp</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">10</span><span class="o">**</span><span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="o">/</span><span class="n">T</span> <span class="o">+</span> <span class="n">c</span><span class="o">*</span><span class="n">logfo2</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_fo2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>
    
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;exp(log10(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">preexp</span><span class="si">}</span><span class="s1">) - </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span><span class="si">}</span><span class="s1">/kT + </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">const</span><span class="si">}</span><span class="s1">*log(fo2))&#39;</span></div>


<div class="viewcode-block" id="ArrheniusfO22">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.ArrheniusfO22">[docs]</a>
<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">ArrheniusfO22</span><span class="p">(</span><span class="n">Mechanism</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    represents the following mechanism parameterization:</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma = log_{10}(a + \\frac{b}{T} + c*log_{10}(fO_2))</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">preexp</span><span class="p">:</span> <span class="n">StochasticConstant</span>
    <span class="n">const</span><span class="p">:</span> <span class="n">StochasticConstant</span>
    <span class="n">enthalpy</span><span class="p">:</span> <span class="n">StochasticConstant</span>

    <span class="k">def</span> <span class="nf">_get_conductivity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">logfo2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculates the conductivity for the ArrheniusfO22 mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        logfo2 : float or np.ndarray</span>
<span class="sd">            the logfo2 value</span>
<span class="sd">        T : float or np.ndarray</span>
<span class="sd">            the temperature value</span>
<span class="sd">        **kwargs : dict</span>
<span class="sd">            additional keyword arguments</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float or np.ndarray</span>
<span class="sd">            the conductivity</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">preexp</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">10</span><span class="o">**</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="o">/</span> <span class="n">T</span> <span class="o">+</span> <span class="n">c</span><span class="o">*</span><span class="n">logfo2</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_fo2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>
    
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;10**(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">preexp</span><span class="si">}</span><span class="s1">) + </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span><span class="si">}</span><span class="s1">/T + </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">const</span><span class="si">}</span><span class="s1">*log(fo2))&#39;</span></div>


<div class="viewcode-block" id="ArrheniusPreexpParam">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.ArrheniusPreexpParam">[docs]</a>
<span class="k">class</span> <span class="nc">ArrheniusPreexpParam</span><span class="p">(</span><span class="n">ArrheniusSimple</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    represents the following mechanism parameterization:</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma = A0(1 - B\\cdot P) exp( \\frac{-\\Delta H +P\\cdot V}{k_b T})</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">preexp1</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">preexp2</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span>
                 <span class="n">enthalpy</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">volume</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the ArrheniusPreexpParam mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        preexp1 : StochasticConstant</span>
<span class="sd">            the first preexponential constant</span>
<span class="sd">        preexp2 : StochasticConstant</span>
<span class="sd">            the second preexponential constant</span>
<span class="sd">        enthalpy : StochasticConstant</span>
<span class="sd">            the enthalpy constant</span>
<span class="sd">        volume : StochasticConstant</span>
<span class="sd">            the volume constant</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preexp1</span> <span class="o">=</span> <span class="n">preexp1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preexp2</span> <span class="o">=</span> <span class="n">preexp2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span> <span class="o">=</span> <span class="n">enthalpy</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">=</span> <span class="n">volume</span>

<div class="viewcode-block" id="ArrheniusPreexpParam.get_preexp">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.ArrheniusPreexpParam.get_preexp">[docs]</a>
    <span class="k">def</span> <span class="nf">get_preexp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">P</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the preexponential constant for the ArrheniusPreexpParam mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        P : float or np.ndarray</span>
<span class="sd">            the pressure value</span>
<span class="sd">        **kwargs : dict</span>
<span class="sd">            additional keyword arguments</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float or np.ndarray</span>
<span class="sd">            the preexponential constant</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">P</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Pressure value must be provided&quot;</span>
        <span class="n">a0</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">preexp1</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">P</span><span class="o">=</span><span class="n">P</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span>  <span class="bp">self</span><span class="o">.</span><span class="n">preexp2</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">P</span><span class="o">=</span><span class="n">P</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">a0</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">b</span><span class="o">*</span><span class="n">P</span><span class="p">)</span></div>


<div class="viewcode-block" id="ArrheniusPreexpParam.get_enthalpy">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.ArrheniusPreexpParam.get_enthalpy">[docs]</a>
    <span class="k">def</span> <span class="nf">get_enthalpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">P</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the enthalpy for the ArrheniusPreexpParam mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        P : float or np.ndarray</span>
<span class="sd">            the pressure value</span>
<span class="sd">        **kwargs : dict</span>
<span class="sd">            additional keyword arguments</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float or np.ndarray</span>
<span class="sd">            the enthalpy</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">h</span> <span class="o">+</span> <span class="n">v</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">convert_pressure</span><span class="p">(</span><span class="n">P</span><span class="p">)</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">preexp1</span><span class="si">}</span><span class="s1">*(1-</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">preexp2</span><span class="si">}</span><span class="s1">*P)*exp( -(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span><span class="si">}</span><span class="s1">+P*</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="si">}</span><span class="s1">)/kT)&#39;</span></div>


<div class="viewcode-block" id="ArrheniusPressure">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.ArrheniusPressure">[docs]</a>
<span class="k">class</span> <span class="nc">ArrheniusPressure</span><span class="p">(</span><span class="n">ArrheniusSimple</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    represents the following mechanism parameterization:</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma = a exp(\\frac{-\\Delta H + P\\cdot V}{k_b T})</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">n_constants</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">preexp</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span><span class="n">enthalpy</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span><span class="n">volume</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the ArrheniusPressure mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        preexp : StochasticConstant</span>
<span class="sd">            the preexponential constant</span>
<span class="sd">        enthalpy : StochasticConstant</span>
<span class="sd">            the enthalpy constant</span>
<span class="sd">        volume : StochasticConstant</span>
<span class="sd">            the volume constant</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">preexp</span><span class="p">,</span><span class="n">enthalpy</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">=</span> <span class="n">volume</span>

<div class="viewcode-block" id="ArrheniusPressure.get_enthalpy">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.ArrheniusPressure.get_enthalpy">[docs]</a>
    <span class="k">def</span> <span class="nf">get_enthalpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="n">P</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the enthalpy for the ArrheniusPressure mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        P : float or np.ndarray</span>
<span class="sd">            the pressure value</span>
<span class="sd">        **kwargs : dict</span>
<span class="sd">            additional keyword arguments</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float or np.ndarray</span>
<span class="sd">            the enthalpy</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">enthalpy</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">ArrheniusPressure</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">get_enthalpy</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">enthalpy</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">convert_pressure</span><span class="p">(</span><span class="n">P</span><span class="p">)</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">preexp</span><span class="si">}</span><span class="s1"> exp(-(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span><span class="si">}</span><span class="s1"> + P</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="si">}</span><span class="s1">)/kT)&#39;</span></div>


<div class="viewcode-block" id="IronPreexpEnthalpyArrhenius">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.IronPreexpEnthalpyArrhenius">[docs]</a>
<span class="k">class</span> <span class="nc">IronPreexpEnthalpyArrhenius</span><span class="p">(</span><span class="n">ArrheniusSimple</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    represents the following mechanism parameterization:</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma = a\\cdot X_{fe} * exp( -\\frac{b + c\\cdot X_{fe}^1/3 + P( d + e\\cdot X_{fe})}{k_b T})</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">n_constants</span> <span class="o">=</span> <span class="mi">5</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">preexp</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">enthalpy</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span>
                 <span class="n">const1</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">volume</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">const2</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the IronPreexpEnthalpyArrhenius mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        preexp : StochasticConstant</span>
<span class="sd">            the preexponential constant</span>
<span class="sd">        enthalpy : StochasticConstant</span>
<span class="sd">            the enthalpy constant</span>
<span class="sd">        const1 : StochasticConstant</span>
<span class="sd">            the first constant</span>
<span class="sd">        volume : StochasticConstant</span>
<span class="sd">            the volume constant</span>
<span class="sd">        const2 : StochasticConstant</span>
<span class="sd">            the second constant</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preexp</span> <span class="o">=</span> <span class="n">preexp</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span> <span class="o">=</span> <span class="n">enthalpy</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">=</span> <span class="n">volume</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const1</span> <span class="o">=</span> <span class="n">const1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const2</span> <span class="o">=</span> <span class="n">const2</span>

<div class="viewcode-block" id="IronPreexpEnthalpyArrhenius.get_preexp">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.IronPreexpEnthalpyArrhenius.get_preexp">[docs]</a>
    <span class="k">def</span> <span class="nf">get_preexp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Xfe</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the preexponential constant for the IronPreexpEnthalpyArrhenius mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        Xfe : float or np.ndarray</span>
<span class="sd">            the iron value</span>
<span class="sd">        **kwargs : dict</span>
<span class="sd">            additional keyword arguments</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float or np.ndarray</span>
<span class="sd">            the preexponential constant</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">preexp</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">a</span><span class="o">*</span><span class="n">Xfe</span></div>


<div class="viewcode-block" id="IronPreexpEnthalpyArrhenius.get_enthalpy">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.IronPreexpEnthalpyArrhenius.get_enthalpy">[docs]</a>
    <span class="k">def</span> <span class="nf">get_enthalpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Xfe</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">P</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the enthalpy for the IronPreexpEnthalpyArrhenius mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        Xfe : float or np.ndarray</span>
<span class="sd">            the iron value</span>
<span class="sd">        P : float or np.ndarray</span>
<span class="sd">            the pressure value</span>
<span class="sd">        **kwargs : dict</span>
<span class="sd">            additional keyword arguments</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float or np.ndarray</span>
<span class="sd">            the enthalpy</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const1</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const2</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">h</span> <span class="o">+</span> <span class="n">a</span><span class="o">*</span><span class="n">Xfe</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_pressure</span><span class="p">(</span><span class="n">P</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">v</span> <span class="o">+</span> <span class="n">b</span><span class="o">*</span><span class="n">Xfe</span><span class="p">)</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_iron</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>
    
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">preexp</span><span class="si">}</span><span class="s1">*Xfe * exp( (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span><span class="si">}</span><span class="s1"> + </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">const1</span><span class="si">}</span><span class="s1">*Xfe^1/3 + P (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="si">}</span><span class="s1">+ </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">const2</span><span class="si">}</span><span class="s1">*Xfe) )/kT)&#39;</span></div>


<div class="viewcode-block" id="IronWaterArrhenius1">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.IronWaterArrhenius1">[docs]</a>
<span class="k">class</span> <span class="nc">IronWaterArrhenius1</span><span class="p">(</span><span class="n">ArrheniusSimple</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    represents the following mechanism parameterization:</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma = a (C_w)^b exp( \\frac{-c}{k_b T}) exp(X_{fe}  \\frac{d}{k_b T})</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">preexp</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">const</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span>
                 <span class="n">enthalpy1</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">enthalpy2</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the IronWaterArrhenius1 mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        preexp : StochasticConstant</span>
<span class="sd">            the preexponential constant</span>
<span class="sd">        const : StochasticConstant</span>
<span class="sd">            the constant</span>
<span class="sd">        enthalpy1 : StochasticConstant</span>
<span class="sd">            the first enthalpy constant</span>
<span class="sd">        enthalpy2 : StochasticConstant</span>
<span class="sd">            the second enthalpy constant</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">preexp</span><span class="p">,</span> <span class="n">enthalpy1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enthalpy2</span> <span class="o">=</span> <span class="n">enthalpy2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const</span> <span class="o">=</span> <span class="n">const</span>


<div class="viewcode-block" id="IronWaterArrhenius1.get_preexp">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.IronWaterArrhenius1.get_preexp">[docs]</a>
    <span class="k">def</span> <span class="nf">get_preexp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Xfe</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">Cw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">T</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the preexponential constant for the IronWaterArrhenius1 mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        Xfe : float or np.ndarray</span>
<span class="sd">            the iron value</span>
<span class="sd">        Cw : float or np.ndarray</span>
<span class="sd">            the water value</span>
<span class="sd">        T : float or np.ndarray</span>
<span class="sd">            the temperature value</span>
<span class="sd">        **kwargs : dict</span>
<span class="sd">            additional keyword arguments</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float or np.ndarray</span>
<span class="sd">            the preexponential constant</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">preexp</span> <span class="o">=</span> <span class="n">ArrheniusSimple</span><span class="o">.</span><span class="n">get_preexp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">water</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_water</span><span class="p">(</span><span class="n">Cw</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">enthalpy2</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">upper_enth</span> <span class="o">=</span> <span class="n">Xfe</span> <span class="o">*</span> <span class="n">c</span><span class="o">/</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">kb</span> <span class="o">*</span> <span class="n">T</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">preexp</span> <span class="o">*</span> <span class="p">(</span><span class="n">water</span><span class="o">**</span><span class="n">b</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">upper_enth</span><span class="p">)</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_iron</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_water</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">preexp</span><span class="si">}</span><span class="s1"> (Cw)^</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">const</span><span class="si">}</span><span class="s1"> * exp(-</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span><span class="si">}</span><span class="s1">.kT)*exp(Xfe * </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">enthalpy2</span><span class="si">}</span><span class="s1">/kT)&#39;</span></div>



<div class="viewcode-block" id="IronWaterArrhenius2">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.IronWaterArrhenius2">[docs]</a>
<span class="k">class</span> <span class="nc">IronWaterArrhenius2</span><span class="p">(</span><span class="n">ArrheniusSimple</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    represents the following mechanism parameterization:</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma = a (X_{fe}+b) ^c C_w^d exp( -\\frac{e+ f\\cdot (X_{fe}+b)+ g\\cdot C_w^h}{k_b T})</span>

<span class="sd">    &quot;&quot;&quot;</span>


    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">preexp</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">const1</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">const2</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">const3</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span>
                 <span class="n">enthalpy1</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span><span class="n">const4</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">const5</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span><span class="n">const6</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span>
                 <span class="n">const7</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the IronWaterArrhenius2 mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        preexp : StochasticConstant</span>
<span class="sd">            the preexponential constant</span>
<span class="sd">        const1 : StochasticConstant</span>
<span class="sd">            the first constant</span>
<span class="sd">        const2 : StochasticConstant</span>
<span class="sd">            the second constant</span>
<span class="sd">        const3 : StochasticConstant</span>
<span class="sd">            the third constant</span>
<span class="sd">        enthalpy1 : StochasticConstant</span>
<span class="sd">            the enthalpy constant</span>
<span class="sd">        const4 : StochasticConstant</span>
<span class="sd">            the fourth constant</span>
<span class="sd">        const5 : StochasticConstant</span>
<span class="sd">            the fifth constant</span>
<span class="sd">        const6 : StochasticConstant</span>
<span class="sd">            the sixth constant</span>
<span class="sd">        const7 : StochasticConstant</span>
<span class="sd">            the seventh constant</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preexp</span> <span class="o">=</span> <span class="n">preexp</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span> <span class="o">=</span> <span class="n">enthalpy1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const1</span> <span class="o">=</span> <span class="n">const1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const2</span> <span class="o">=</span> <span class="n">const2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const3</span> <span class="o">=</span> <span class="n">const3</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const4</span> <span class="o">=</span> <span class="n">const4</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const5</span> <span class="o">=</span> <span class="n">const5</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const6</span> <span class="o">=</span> <span class="n">const6</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const7</span> <span class="o">=</span> <span class="n">const7</span>

<div class="viewcode-block" id="IronWaterArrhenius2.get_preexp">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.IronWaterArrhenius2.get_preexp">[docs]</a>
    <span class="k">def</span> <span class="nf">get_preexp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Xfe</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">Cw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the preexponential constant for the IronWaterArrhenius2 mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        Xfe : float or np.ndarray</span>
<span class="sd">            the iron value</span>
<span class="sd">        Cw : float or np.ndarray</span>
<span class="sd">            the water value</span>
<span class="sd">        **kwargs : dict</span>
<span class="sd">            additional keyword arguments</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float or np.ndarray</span>
<span class="sd">            the preexponential constant</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">preexp</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">iron_offset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const1</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const2</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const3</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">preexp</span> <span class="o">=</span> <span class="n">a</span> <span class="o">*</span> <span class="p">(</span><span class="n">Xfe</span> <span class="o">+</span> <span class="n">iron_offset</span><span class="p">)</span> <span class="o">**</span><span class="n">c</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_water</span><span class="p">(</span><span class="n">Cw</span><span class="p">)</span><span class="o">**</span><span class="n">d</span>
        <span class="k">return</span> <span class="n">preexp</span></div>


<div class="viewcode-block" id="IronWaterArrhenius2.get_enthalpy">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.IronWaterArrhenius2.get_enthalpy">[docs]</a>
    <span class="k">def</span> <span class="nf">get_enthalpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Cw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">Xfe</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the enthalpy for the IronWaterArrhenius2 mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        Cw : float or np.ndarray</span>
<span class="sd">            the water value</span>
<span class="sd">        Xfe : float or np.ndarray</span>
<span class="sd">            the iron value</span>
<span class="sd">        **kwargs : dict</span>
<span class="sd">            additional keyword arguments</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float or np.ndarray</span>
<span class="sd">            the enthalpy</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">h</span>     <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">alpha</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const4</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">iron_offset</span>   <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const1</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">iron_exponent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const5</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">beta</span>          <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const6</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">water_exp</span>     <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const7</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">water</span>         <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_water</span><span class="p">(</span><span class="n">Cw</span><span class="p">)</span>
        <span class="n">total_enthalpy</span> <span class="o">=</span> <span class="n">h</span> <span class="o">+</span> <span class="n">alpha</span> <span class="o">*</span> <span class="p">(</span><span class="n">Xfe</span><span class="o">+</span><span class="n">iron_offset</span><span class="p">)</span><span class="o">**</span><span class="n">iron_exponent</span> <span class="o">+</span> <span class="n">beta</span> <span class="o">*</span> <span class="n">water</span><span class="o">**</span><span class="n">water_exp</span>
        <span class="k">return</span> <span class="n">total_enthalpy</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_iron</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_water</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        a (Xfe+b) ^c Cw^d exp( -(e+ f(Xfe+b)^g+ hCw^(i))/kT)</span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">preexp</span><span class="si">}</span><span class="s1"> (Xfe+</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">const1</span><span class="si">}</span><span class="s1">)^</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">const2</span><span class="si">}</span><span class="s1"> (Cw)^</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">const3</span><span class="si">}</span><span class="s1"> </span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">+</span>\
               <span class="sa">f</span><span class="s1">&#39;exp( -(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span><span class="si">}</span><span class="s1"> +</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">const4</span><span class="si">}</span><span class="s1">(Xfe+</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">const1</span><span class="si">}</span><span class="s1">)^</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">const5</span><span class="si">}</span><span class="s1">+</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">const6</span><span class="si">}</span><span class="s1"> Cw^</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">const7</span><span class="si">}</span><span class="s1">  )/kT)&#39;</span></div>


<div class="viewcode-block" id="NerstEinstein1">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.NerstEinstein1">[docs]</a>
<span class="k">class</span> <span class="nc">NerstEinstein1</span><span class="p">(</span><span class="n">Mechanism</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    represents the Nernst Einstein Law. </span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma =  a C_h \\frac{exp(\\frac{ b}{k_b T})}{k_b T}</span>

<span class="sd">    Also used as the base class for all nernst-einstein-like mechanisms. </span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">const1</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">enthalpy</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the NerstEinstein1 mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        const1 : StochasticConstant</span>
<span class="sd">            the first constant</span>
<span class="sd">        enthalpy : StochasticConstant</span>
<span class="sd">            the enthalpy constant</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const1</span> <span class="o">=</span> <span class="n">const1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span> <span class="o">=</span> <span class="n">enthalpy</span>

<div class="viewcode-block" id="NerstEinstein1.prep_preexponential_constant">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.NerstEinstein1.prep_preexponential_constant">[docs]</a>
    <span class="k">def</span> <span class="nf">prep_preexponential_constant</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">T</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">Cw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;provides the preexponential constant for the Nernst Einstein Law</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        T: float or np.ndarray</span>
<span class="sd">            the temperature value, by default None</span>

<span class="sd">        Cw : float or np.ndarray, optional</span>
<span class="sd">            the water value , by default None</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        const : float or np.ndarray </span>
<span class="sd">            the preexponential constant </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const1</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_water</span><span class="p">(</span><span class="n">Cw</span><span class="p">)</span>
        <span class="n">invt</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">kb</span><span class="o">*</span><span class="n">T</span><span class="p">)</span>
        <span class="k">return</span>  <span class="n">a</span> <span class="o">*</span> <span class="n">b</span> <span class="o">*</span> <span class="n">invt</span></div>

    
    <span class="k">def</span> <span class="nf">_get_conductivity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prep_preexponential_constant</span><span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="n">T</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="n">T</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">return</span>  <span class="n">a</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">h</span><span class="o">/</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">kb</span><span class="o">*</span><span class="n">T</span><span class="p">))</span>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_water</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">const1</span><span class="si">}</span><span class="s1"> Cw * exp(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span><span class="si">}</span><span class="s1">/kT)/kT&#39;</span></div>



<div class="viewcode-block" id="NerstEinstein2">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.NerstEinstein2">[docs]</a>
<span class="k">class</span> <span class="nc">NerstEinstein2</span><span class="p">(</span><span class="n">NerstEinstein1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    represents the Nernst Einstein Law with a different exponent for the water term</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma =  a C_w \cdot b \cdot q^2 \\frac{exp(-\\frac{h}{k_b T})}{k_b T}</span>

<span class="sd">    &quot;&quot;&quot;</span>


    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">const1</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">const2</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">enthalpy</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the NerstEinstein2 mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        const1 : StochasticConstant</span>
<span class="sd">            the first constant</span>
<span class="sd">        const2 : StochasticConstant</span>
<span class="sd">            the second constant</span>
<span class="sd">        enthalpy : StochasticConstant</span>
<span class="sd">            the enthalpy constant</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">const1</span><span class="p">,</span> <span class="n">enthalpy</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const2</span> <span class="o">=</span> <span class="n">const2</span>

<div class="viewcode-block" id="NerstEinstein2.prep_preexponential_constant">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.NerstEinstein2.prep_preexponential_constant">[docs]</a>
    <span class="k">def</span> <span class="nf">prep_preexponential_constant</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">T</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">Cw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;provides the preexponential constant for the Nernst Einstein Law</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        T: float or np.ndarray</span>
<span class="sd">            the temperature value, by default None</span>

<span class="sd">        Cw : float or np.ndarray, optional</span>
<span class="sd">            the water value , by default None</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        const : float or np.ndarray </span>
<span class="sd">            the preexponential constant </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const1</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">cw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_water</span><span class="p">(</span><span class="n">Cw</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const2</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">invt</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">kb</span><span class="o">*</span><span class="n">T</span><span class="p">)</span>
        <span class="k">return</span>  <span class="n">a</span> <span class="o">*</span> <span class="n">b</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">q2</span> <span class="o">*</span> <span class="n">invt</span> <span class="o">*</span> <span class="n">cw</span></div>

    
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">const1</span><span class="si">}</span><span class="s1"> Cw * </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">const2</span><span class="si">}</span><span class="s1"> * exp(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span><span class="si">}</span><span class="s1">/kT)/kT&#39;</span></div>



<div class="viewcode-block" id="NerstEinstein3">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.NerstEinstein3">[docs]</a>
<span class="k">class</span> <span class="nc">NerstEinstein3</span><span class="p">(</span><span class="n">NerstEinstein1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Nernst Einstein Law with a different exponent for the water term and a different exponent for the temperature term</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma =  a b C_w^{1+c} \\frac{exp( \\frac{d}{k_b T})}{k_b T}</span>

<span class="sd">    &quot;&quot;&quot;</span>


    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">const1</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">const2</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">const3</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">enthalpy</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the NerstEinstein3 mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        const1 : StochasticConstant</span>
<span class="sd">            the first constant</span>
<span class="sd">        const2 : StochasticConstant</span>
<span class="sd">            the second constant</span>
<span class="sd">        const3 : StochasticConstant</span>
<span class="sd">            the third constant</span>
<span class="sd">        enthalpy : StochasticConstant</span>
<span class="sd">            the enthalpy constant</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">const1</span><span class="p">,</span> <span class="n">enthalpy</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const2</span> <span class="o">=</span> <span class="n">const2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const3</span> <span class="o">=</span> <span class="n">const3</span>
    
<div class="viewcode-block" id="NerstEinstein3.prep_preexponential_constant">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.NerstEinstein3.prep_preexponential_constant">[docs]</a>
    <span class="k">def</span> <span class="nf">prep_preexponential_constant</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">T</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">Cw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;provides the preexponential constant for the Nernst Einstein Law</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        T: float or np.ndarray</span>
<span class="sd">            the temperature value, by default None</span>

<span class="sd">        Cw : float or np.ndarray, optional</span>
<span class="sd">            the water value , by default None</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        const : float or np.ndarray </span>
<span class="sd">            the preexponential constant </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const1</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const2</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const3</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="n">q2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">q2</span> 

        <span class="n">cw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_water</span><span class="p">(</span><span class="n">Cw</span><span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">c</span><span class="p">)</span>
        <span class="n">invt</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">kb</span><span class="o">*</span><span class="n">T</span><span class="p">)</span>

        <span class="k">return</span>  <span class="n">a</span> <span class="o">*</span> <span class="n">b</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">*</span> <span class="n">invt</span> <span class="o">*</span> <span class="n">cw</span></div>

    


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_water</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">const1</span><span class="si">}</span><span class="s1"> q^2 </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">const2</span><span class="si">}</span><span class="s1"> Cw^(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">const3</span><span class="si">}</span><span class="s1">+1) exp(-</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span><span class="si">}</span><span class="s1">/kT)/kT&#39;</span></div>



<div class="viewcode-block" id="BrinePTDependent">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.BrinePTDependent">[docs]</a>
<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">BrinePTDependent</span><span class="p">(</span><span class="n">Mechanism</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a brine conductivity model that depends on pressure, temperature, and salinity.</span>

<span class="sd">    .. math::</span>

<span class="sd">        log(\\sigma) = a + \\frac{b}{T} + c log(NaCl) + d log(\\rho) + log(A_0(P,T))</span>

<span class="sd">        A_0 = e + f*\\rho + \\frac{g}{T} + \\frac{h}{T^2}</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">a</span><span class="p">:</span> <span class="n">StochasticConstant</span>
    <span class="n">b</span><span class="p">:</span> <span class="n">StochasticConstant</span>
    <span class="n">c</span><span class="p">:</span> <span class="n">StochasticConstant</span>
    <span class="n">d</span><span class="p">:</span> <span class="n">StochasticConstant</span>
    <span class="n">e</span><span class="p">:</span> <span class="n">StochasticConstant</span>
    <span class="n">f</span><span class="p">:</span> <span class="n">StochasticConstant</span>
    <span class="n">g</span><span class="p">:</span> <span class="n">StochasticConstant</span>
    <span class="n">h</span><span class="p">:</span> <span class="n">StochasticConstant</span>

    <span class="n">water</span> <span class="p">:</span>  <span class="n">Fluid</span> <span class="o">=</span> <span class="n">Fluid</span><span class="p">(</span><span class="n">FluidsList</span><span class="o">.</span><span class="n">Water</span><span class="p">)</span>


<div class="viewcode-block" id="BrinePTDependent.get_density_field">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.BrinePTDependent.get_density_field">[docs]</a>
    <span class="k">def</span> <span class="nf">get_density_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">P</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">T</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the density field for the brine using the water object</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        P : float or np.ndarray</span>
<span class="sd">            the pressure in Pa</span>
<span class="sd">        T : float or np.ndarray</span>
<span class="sd">            the temperature in Kelvin</span>
<span class="sd">        **kwargs : dict</span>
<span class="sd">            additional keyword arguments</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float or np.ndarray</span>
<span class="sd">            the density of the brine in kg/m^3</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">starting_var</span> <span class="o">=</span> <span class="n">pyutils</span><span class="o">.</span><span class="n">create_starting_variable</span><span class="p">(</span><span class="n">P</span><span class="o">=</span><span class="n">P</span><span class="p">,</span><span class="n">T</span><span class="o">=</span><span class="n">T</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">starting_var</span><span class="p">,</span><span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">starting_var</span><span class="p">,</span><span class="nb">float</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">water</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Input</span><span class="o">.</span><span class="n">pressure</span><span class="p">(</span><span class="n">P</span><span class="o">*</span><span class="mf">1.0e9</span><span class="p">),</span><span class="n">Input</span><span class="o">.</span><span class="n">temperature</span><span class="p">(</span><span class="n">T</span><span class="o">-</span><span class="mf">273.15</span><span class="p">))</span>
            <span class="n">rho</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">water</span><span class="o">.</span><span class="n">density</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">def</span> <span class="nf">calc_density</span><span class="p">(</span><span class="n">P</span><span class="p">,</span><span class="n">T</span><span class="p">,</span><span class="n">water</span><span class="p">):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">water</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Input</span><span class="o">.</span><span class="n">pressure</span><span class="p">(</span><span class="n">P</span> <span class="o">*</span> <span class="mf">1.0e9</span><span class="p">),</span> <span class="n">Input</span><span class="o">.</span><span class="n">temperature</span><span class="p">(</span><span class="n">T</span><span class="o">-</span><span class="mf">273.15</span><span class="p">))</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
                <span class="k">return</span> <span class="n">water</span><span class="o">.</span><span class="n">density</span>

            <span class="n">rho</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="n">calc_density</span><span class="p">)(</span><span class="n">P</span><span class="p">,</span><span class="n">T</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">water</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">rho</span><span class="o">/</span><span class="mf">1e3</span></div>


<div class="viewcode-block" id="BrinePTDependent.get_lambda">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.BrinePTDependent.get_lambda">[docs]</a>
    <span class="k">def</span> <span class="nf">get_lambda</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">rho</span><span class="p">,</span><span class="n">T</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the lambda term for the BrinePTDependent mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        rho : float or np.ndarray</span>
<span class="sd">            the density of the brine in kg/m^3</span>
<span class="sd">        T : float or np.ndarray</span>
<span class="sd">            the temperature in Kelvin</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float or np.ndarray</span>
<span class="sd">            the lambda term</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">val1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="o">*</span><span class="n">rho</span>
        <span class="n">val2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="o">/</span><span class="n">T</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">h</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="o">/</span><span class="n">T</span><span class="o">**</span><span class="mi">2</span>
        <span class="k">return</span> <span class="n">val1</span> <span class="o">+</span> <span class="n">val2</span></div>

    
    <span class="k">def</span> <span class="nf">_get_conductivity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">T</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">P</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">nacl</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the conductivity in s/m from this mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        T : np.ndarray or float</span>
<span class="sd">            the temperature in Kelvin</span>

<span class="sd">        logfo2: np.ndarray or float</span>
<span class="sd">            The logarithm of the oxygen fugacity. Must not be None.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float:</span>
<span class="sd">            The calculated conductivity in s/m</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        AssertionError:</span>
<span class="sd">            If logfo2 is None.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">rho</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_density_field</span><span class="p">(</span><span class="n">P</span><span class="o">=</span><span class="n">P</span><span class="p">,</span><span class="n">T</span><span class="o">=</span><span class="n">T</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="c1"># rho is 0.0012 for ints. 1.24 for arrays</span>
        <span class="n">A0</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_lambda</span><span class="p">(</span><span class="n">rho</span><span class="p">,</span><span class="n">P</span><span class="o">=</span><span class="n">P</span><span class="p">,</span><span class="n">T</span><span class="o">=</span><span class="n">T</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="c1"># A0 is 1900.42 for ints. 388 for arrays</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="c1"># a is -0.9184 for ints</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="c1"># b is -872.0 for ints</span>
        <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="c1"># c is 0.852 for ints</span>
        <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="c1"># d is 7.6076 for ints</span>
        <span class="c1"># density term is -22.089 for ints</span>
        <span class="n">temp_term</span>    <span class="o">=</span> <span class="n">b</span><span class="o">/</span><span class="n">T</span>
        <span class="n">salt_term</span>    <span class="o">=</span> <span class="n">c</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">nacl</span><span class="p">)</span>
        <span class="n">density_term</span> <span class="o">=</span> <span class="n">d</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">rho</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">10</span><span class="o">**</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">temp_term</span> <span class="o">+</span> <span class="n">salt_term</span> <span class="o">+</span> <span class="n">density_term</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">A0</span><span class="p">))</span>



    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="si">}</span><span class="s1"> + </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="si">}</span><span class="s1">/T + </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">c</span><span class="si">}</span><span class="s1">log(nacl) + </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="si">}</span><span class="s1">log(rho) + log(A0)&#39;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_nacl</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span></div>


<div class="viewcode-block" id="SEO3Term">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.SEO3Term">[docs]</a>
<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">SEO3Term</span><span class="p">(</span><span class="n">Mechanism</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Uses a combination of ArrheniusSimple and ArrheniusFugacity models to represent a polaron hopping term for the SEO3 model of olivine</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma = e [a \\cdot exp(\\frac{b}{k_b T}) + c \\cdot exp(\\frac{d}{k_b T})(fO_2)^e]\\cdot f\\cdot exp(\\frac{g}{k_b T})</span>

<span class="sd">    Inherits from the Mechanism class.</span>

<span class="sd">    Parameters:</span>
<span class="sd">    -----------</span>
<span class="sd">    preexp1 : StochasticConstant</span>
<span class="sd">        The pre-exponential factor for the first arrhenius law</span>
<span class="sd">    enth1 : StochasticConstant</span>
<span class="sd">        The enthalpy factor for the first arrhenius law</span>
<span class="sd">    preexp2 : StochasticConstant</span>
<span class="sd">        The pre-exponential factor for the second arrhenius law</span>
<span class="sd">    enth2 : StochasticConstant</span>
<span class="sd">        The enthalpy for the second arrhenius law</span>
<span class="sd">    exp : StochasticConstant</span>
<span class="sd">        The oxygen fugacity exponent for the second arrhenius law</span>

<span class="sd">    preexp3 : StochasticConstant</span>
<span class="sd">        The pre-exponential factor for the third arrhenius law</span>
<span class="sd">    enth3 : StochasticConstant</span>
<span class="sd">        The enthalpy for the third arrhenius law</span>
<span class="sd">    </span>


<span class="sd">    Methods:</span>
<span class="sd">    --------</span>
<span class="sd">    uses_fo2()</span>
<span class="sd">        Returns True, indicating that oxygen fugacity is used in the equation.</span>

<span class="sd">    get_conductivity(T=None, **kwargs)</span>
<span class="sd">        Calculates and returns the conductivity of the wet substance.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">preexp1</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">enth1</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">preexp2</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span>
                 <span class="n">enth2</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">exp</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">preexp3</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">enth3</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the SEO3Term mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        preexp1 : StochasticConstant</span>
<span class="sd">            the pre-exponential constant for the first arrhenius law</span>
<span class="sd">        enth1 : StochasticConstant</span>
<span class="sd">            the enthalpy for the first arrhenius law</span>
<span class="sd">        preexp2 : StochasticConstant</span>
<span class="sd">            the pre-exponential constant for the second arrhenius law</span>
<span class="sd">        enth2 : StochasticConstant</span>
<span class="sd">            the enthalpy for the second arrhenius law</span>
<span class="sd">        exp : StochasticConstant</span>
<span class="sd">            the oxygen fugacity exponent for the second arrhenius law</span>
<span class="sd">        preexp3 : StochasticConstant</span>
<span class="sd">            the pre-exponential constant for the third arrhenius law</span>
<span class="sd">        enth3 : StochasticConstant</span>
<span class="sd">            the enthalpy for the third arrhenius law</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">b_species</span>    <span class="o">=</span> <span class="n">ArrheniusSimple</span><span class="p">(</span><span class="n">preexp1</span><span class="p">,</span><span class="n">enth1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">b_species1</span>   <span class="o">=</span> <span class="n">ArrheniusFugacity</span><span class="p">(</span><span class="n">preexp2</span><span class="p">,</span><span class="n">exp</span><span class="p">,</span> <span class="n">enth2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mu_potential</span> <span class="o">=</span> <span class="n">ArrheniusSimple</span><span class="p">(</span><span class="n">preexp3</span><span class="p">,</span><span class="n">enth3</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_conductivity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the conductivity in s/m from this mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        T : np.ndarray or float</span>
<span class="sd">            the temperature in Kelvin</span>

<span class="sd">        logfo2: np.ndarray or float</span>
<span class="sd">            The logarithm of the oxygen fugacity. Must not be None.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float: </span>
<span class="sd">            The calculated conductivity in s/m</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        AssertionError: </span>
<span class="sd">            If logfo2 is None.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">term1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_species</span><span class="o">.</span><span class="n">get_conductivity</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">term2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_species1</span><span class="o">.</span><span class="n">get_conductivity</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">term3</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mu_potential</span><span class="o">.</span><span class="n">get_conductivity</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span> <span class="o">*</span> <span class="p">(</span><span class="n">term1</span><span class="o">+</span><span class="n">term2</span><span class="p">)</span><span class="o">*</span><span class="n">term3</span>

<div class="viewcode-block" id="SEO3Term.n_args">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.SEO3Term.n_args">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">n_args</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">ArrheniusSimple</span><span class="o">.</span><span class="n">n_args</span><span class="p">()</span><span class="o">*</span><span class="mi">2</span> <span class="o">+</span> <span class="n">ArrheniusFugacity</span><span class="o">.</span><span class="n">n_args</span><span class="p">()</span></div>


    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;e*(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">b_species</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">b_species1</span><span class="si">}</span><span class="s1">)*</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">mu_potential</span><span class="si">}</span><span class="s1">&#39;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_fo2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span></div>



<div class="viewcode-block" id="WaterExpArrhenius1">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.WaterExpArrhenius1">[docs]</a>
<span class="k">class</span> <span class="nc">WaterExpArrhenius1</span><span class="p">(</span><span class="n">ArrheniusSimple</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents an equation with the following parameterization:</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma = a C_w^b exp(\\frac{-\Delta H}{k_b T})</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">preexp</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">const1</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">enthalpy</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the WaterExpArrhenius1 mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        preexp : StochasticConstant</span>
<span class="sd">            the pre-exponential constant</span>
<span class="sd">        const1 : StochasticConstant</span>
<span class="sd">            the water exponent</span>
<span class="sd">        enthalpy : StochasticConstant</span>
<span class="sd">            the enthalpy constant</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">preexp</span><span class="p">,</span><span class="n">enthalpy</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const1</span> <span class="o">=</span> <span class="n">const1</span>

<div class="viewcode-block" id="WaterExpArrhenius1.get_preexp">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.WaterExpArrhenius1.get_preexp">[docs]</a>
    <span class="k">def</span> <span class="nf">get_preexp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">Cw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the preexp constant for the WaterExpArrhenius1 mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        Cw : float or np.ndarray</span>
<span class="sd">            the water concentration in mol/m^3</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float or np.ndarray</span>
<span class="sd">            the preexp constant</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">preexp</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const1</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_water</span><span class="p">(</span><span class="n">Cw</span><span class="p">)</span><span class="o">**</span><span class="n">p</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_water</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span></div>



<div class="viewcode-block" id="WaterExpArrhenius2">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.WaterExpArrhenius2">[docs]</a>
<span class="k">class</span> <span class="nc">WaterExpArrhenius2</span><span class="p">(</span><span class="n">ArrheniusSimple</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents an equation with the following parameterization:</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma = a C_w exp(\\frac{-(b + c C_w^d)}{k_b T})</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">preexp</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">enthalpy</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span><span class="n">const1</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span>
                 <span class="n">const2</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the WaterExpArrhenius2 mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        preexp : StochasticConstant</span>
<span class="sd">            the pre-exponential constant</span>
<span class="sd">        enthalpy : StochasticConstant</span>
<span class="sd">            the enthalpy constant</span>
<span class="sd">        const1 : StochasticConstant</span>
<span class="sd">            the water exponent</span>
<span class="sd">        const2 : StochasticConstant</span>
<span class="sd">            the water enthalpy exponent</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">preexp</span><span class="p">,</span> <span class="n">enthalpy</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const1</span> <span class="o">=</span> <span class="n">const1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const2</span> <span class="o">=</span> <span class="n">const2</span>

<div class="viewcode-block" id="WaterExpArrhenius2.get_preexp">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.WaterExpArrhenius2.get_preexp">[docs]</a>
    <span class="k">def</span> <span class="nf">get_preexp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Cw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the preexp constant for the WaterExpArrhenius2 mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        Cw : float or np.ndarray</span>
<span class="sd">            the water concentration in mol/m^3</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float or np.ndarray</span>
<span class="sd">            the preexp constant</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">preexp</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_water</span><span class="p">(</span><span class="n">Cw</span><span class="p">)</span></div>


<div class="viewcode-block" id="WaterExpArrhenius2.get_enthalpy">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.WaterExpArrhenius2.get_enthalpy">[docs]</a>
    <span class="k">def</span> <span class="nf">get_enthalpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Cw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the enthalpy for the WaterExpArrhenius2 mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        Cw : float or np.ndarray</span>
<span class="sd">            the water concentration in mol/m^3</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float or np.ndarray</span>
<span class="sd">            the enthalpy</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const2</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const1</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">c</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">convert_water</span><span class="p">(</span><span class="n">Cw</span><span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="n">b</span><span class="p">)</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_water</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span></div>


<div class="viewcode-block" id="WaterExpArrhenius3">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.WaterExpArrhenius3">[docs]</a>
<span class="k">class</span> <span class="nc">WaterExpArrhenius3</span><span class="p">(</span><span class="n">ArrheniusPressure</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents an equation with the following parameterization:</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma = a C_w^b exp( -\\frac{c + d C_w^e + P \cdot V}{k_b T})</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">preexp</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span>  <span class="n">waterexp_preepx</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span>
                 <span class="n">enthalpy</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">waterenth_const</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span>
                 <span class="n">waterenth_exp</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">volume</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the WaterExpArrhenius3 mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        preexp : StochasticConstant</span>
<span class="sd">            the pre-exponential constant</span>
<span class="sd">        waterexp_preepx : StochasticConstant</span>
<span class="sd">            the water exponent</span>
<span class="sd">        enthalpy : StochasticConstant</span>
<span class="sd">            the enthalpy constant</span>
<span class="sd">        waterenth_const : StochasticConstant</span>
<span class="sd">            the water enthalpy constant</span>
<span class="sd">        waterenth_exp : StochasticConstant</span>
<span class="sd">            the water enthalpy exponent</span>
<span class="sd">        volume : StochasticConstant</span>
<span class="sd">            the volume constant</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">preexp</span><span class="p">,</span><span class="n">enthalpy</span><span class="p">,</span><span class="n">volume</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const1</span> <span class="o">=</span> <span class="n">waterexp_preepx</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const2</span> <span class="o">=</span> <span class="n">waterenth_const</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const3</span> <span class="o">=</span> <span class="n">waterenth_exp</span>

<div class="viewcode-block" id="WaterExpArrhenius3.get_preexp">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.WaterExpArrhenius3.get_preexp">[docs]</a>
    <span class="k">def</span> <span class="nf">get_preexp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Cw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the preexp constant for the WaterExpArrhenius3 mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        Cw : float or np.ndarray</span>
<span class="sd">            the water concentration in mol/m^3</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float or np.ndarray</span>
<span class="sd">            the preexp constant</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">ArrheniusPressure</span><span class="o">.</span><span class="n">get_preexp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const1</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">cw_converted</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_water</span><span class="p">(</span><span class="n">Cw</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">cw_converted</span><span class="o">**</span><span class="n">r</span></div>


<div class="viewcode-block" id="WaterExpArrhenius3.get_enthalpy">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.WaterExpArrhenius3.get_enthalpy">[docs]</a>
    <span class="k">def</span> <span class="nf">get_enthalpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Cw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the enthalpy for the WaterExpArrhenius3 mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        Cw : float or np.ndarray</span>
<span class="sd">            the water concentration in mol/m^3</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float or np.ndarray</span>
<span class="sd">            the enthalpy</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">h</span> <span class="o">=</span> <span class="n">ArrheniusPressure</span><span class="o">.</span><span class="n">get_enthalpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const2</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const3</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">cw_converted</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_water</span><span class="p">(</span><span class="n">Cw</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">h</span> <span class="o">+</span> <span class="n">a</span><span class="o">*</span><span class="n">cw_converted</span><span class="o">**</span><span class="n">r</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_water</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">preexp</span><span class="si">}</span><span class="s1"> Cw^</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">const1</span><span class="si">}</span><span class="s1"> exp( -(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">enthalpy</span><span class="si">}</span><span class="s1"> + </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">const2</span><span class="si">}</span><span class="s1">Cw^</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">const3</span><span class="si">}</span><span class="s1"> + P</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="si">}</span><span class="s1">)/kT)&#39;</span></div>


<div class="viewcode-block" id="WaterExpArrheniusPressure">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.WaterExpArrheniusPressure">[docs]</a>
<span class="k">class</span> <span class="nc">WaterExpArrheniusPressure</span><span class="p">(</span><span class="n">ArrheniusPressure</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents an equation with the following parameterization:</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma = a C_w^b exp(-\\frac{\Delta H + P \cdot V}{k_b T})</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">preexp</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">const1</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">enthalpy</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span>
                 <span class="n">volume</span> <span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the WaterExpArrheniusPressure mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        preexp : StochasticConstant</span>
<span class="sd">            the pre-exponential constant</span>
<span class="sd">        const1 : StochasticConstant</span>
<span class="sd">            the water exponent</span>
<span class="sd">        enthalpy : StochasticConstant</span>
<span class="sd">            the enthalpy constant</span>
<span class="sd">        volume : StochasticConstant</span>
<span class="sd">            the volume constant</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">preexp</span><span class="p">,</span> <span class="n">enthalpy</span><span class="p">,</span> <span class="n">volume</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">const1</span> <span class="o">=</span> <span class="n">const1</span>

<div class="viewcode-block" id="WaterExpArrheniusPressure.get_preexp">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.WaterExpArrheniusPressure.get_preexp">[docs]</a>
    <span class="k">def</span> <span class="nf">get_preexp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Cw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the preexp constant for the WaterExpArrheniusPressure mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        Cw : float or np.ndarray</span>
<span class="sd">            the water concentration in mol/m^3</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float or np.ndarray</span>
<span class="sd">            the preexp constant</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">preexp</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">const1</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_water</span><span class="p">(</span><span class="n">Cw</span><span class="p">)</span><span class="o">**</span><span class="n">b</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_water</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;Cw^</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">const1</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">ArrheniusPressure</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span></div>


<div class="viewcode-block" id="WaterExpArrheniusInvT">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.WaterExpArrheniusInvT">[docs]</a>
<span class="k">class</span> <span class="nc">WaterExpArrheniusInvT</span><span class="p">(</span><span class="n">WaterExpArrheniusPressure</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents an equation with the following parameterization:</span>

<span class="sd">    .. math::</span>

<span class="sd">        \\sigma = a C_w^b \\frac{exp(-\\frac{\Delta H + P \cdot V}{k_b T})}{T}</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">preexp</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">const1</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">enthalpy</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">,</span> <span class="n">volume</span><span class="p">:</span> <span class="n">StochasticConstant</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the WaterExpArrheniusInvT mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        preexp : StochasticConstant</span>
<span class="sd">            the pre-exponential constant</span>
<span class="sd">        const1 : StochasticConstant</span>
<span class="sd">            the water exponent</span>
<span class="sd">        enthalpy : StochasticConstant</span>
<span class="sd">            the enthalpy constant</span>
<span class="sd">        volume : StochasticConstant</span>
<span class="sd">            the volume constant</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">preexp</span><span class="p">,</span><span class="n">const1</span><span class="p">,</span> <span class="n">enthalpy</span><span class="p">,</span> <span class="n">volume</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_conductivity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the conductivity in s/m from this mechanism</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        T : np.ndarray or float</span>
<span class="sd">            the temperature in Kelvin</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        c : float or np.ndarray</span>
<span class="sd">            the conductivity in s/m</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">c</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_get_conductivity</span><span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="n">T</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">c</span><span class="o">/</span><span class="n">T</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_water</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uses_pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">WaterExpArrheniusPressure</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s1">/T&#39;</span></div>


<span class="k">def</span> <span class="nf">_count_positional_args_required</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    counts the number of positional arguments required for a function</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    func : function</span>
<span class="sd">        the function to count the positional arguments for</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    int</span>
<span class="sd">        the number of positional arguments required for the function</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">signature</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="n">empty</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">Parameter</span><span class="o">.</span><span class="n">empty</span>
    <span class="n">total</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">signature</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">param</span><span class="o">.</span><span class="n">default</span> <span class="ow">is</span> <span class="n">empty</span><span class="p">:</span>
            <span class="n">total</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">total</span>


<span class="n">model_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;arrhenius_fugacity&#39;</span><span class="p">:</span><span class="n">ArrheniusFugacity</span><span class="p">,</span>
<span class="s1">&#39;arrhenius_log_fO2&#39;</span><span class="p">:</span><span class="n">ArrheniusfO2</span><span class="p">,</span>
<span class="s1">&#39;arrhenius_logfO2_2&#39;</span><span class="p">:</span><span class="n">ArrheniusfO22</span><span class="p">,</span>
<span class="s1">&#39;arrhenius_preexp_parameterized&#39;</span><span class="p">:</span><span class="n">ArrheniusPreexpParam</span><span class="p">,</span>
<span class="s1">&#39;arrhenius_pressure&#39;</span><span class="p">:</span><span class="n">ArrheniusPressure</span><span class="p">,</span>
<span class="s1">&#39;arrhenius_simple&#39;</span><span class="p">:</span><span class="n">ArrheniusSimple</span><span class="p">,</span>
<span class="s1">&#39;iron_preexp_enthalpy_arrhenius&#39;</span><span class="p">:</span><span class="n">IronPreexpEnthalpyArrhenius</span><span class="p">,</span>
<span class="s1">&#39;iron_water_arrhenius1&#39;</span><span class="p">:</span><span class="n">IronWaterArrhenius1</span><span class="p">,</span>
<span class="s1">&#39;iron_water_arrhenius2&#39;</span><span class="p">:</span> <span class="n">IronWaterArrhenius2</span><span class="p">,</span>
<span class="s1">&#39;nerst_einstein1&#39;</span><span class="p">:</span><span class="n">NerstEinstein1</span><span class="p">,</span>
<span class="s1">&#39;nerst_einstein_2&#39;</span><span class="p">:</span><span class="n">NerstEinstein2</span><span class="p">,</span>
<span class="s1">&#39;nerst_einstien_3&#39;</span><span class="p">:</span><span class="n">NerstEinstein3</span><span class="p">,</span>
<span class="s1">&#39;seo3_term&#39;</span><span class="p">:</span><span class="n">SEO3Term</span><span class="p">,</span>
<span class="s1">&#39;single_value&#39;</span><span class="p">:</span><span class="n">SingleValue</span><span class="p">,</span>
<span class="s1">&#39;water_exponent_arrhenius&#39;</span><span class="p">:</span><span class="n">WaterExpArrhenius1</span><span class="p">,</span>
<span class="s1">&#39;water_exponent_arrhenius_pressure&#39;</span><span class="p">:</span><span class="n">WaterExpArrheniusPressure</span><span class="p">,</span>
<span class="s1">&#39;water_exponent_arrhenius_pressure_invT&#39;</span><span class="p">:</span><span class="n">WaterExpArrheniusInvT</span><span class="p">,</span>
<span class="s1">&#39;water_preexp_enthalpy_arrhenius&#39;</span><span class="p">:</span><span class="n">WaterExpArrhenius2</span><span class="p">,</span>
<span class="s1">&#39;water_preexp_enthalpy_pressure&#39;</span><span class="p">:</span><span class="n">WaterExpArrhenius3</span><span class="p">,</span>
<span class="s1">&#39;vft_wet&#39;</span><span class="p">:</span> <span class="n">VogelFulcherTammanWet</span><span class="p">,</span>
<span class="s1">&#39;linked_arrhenius_wet&#39;</span><span class="p">:</span><span class="n">LinkedArrheniusWet</span><span class="p">,</span>
<span class="s1">&#39;linked_arrhenius_co2&#39;</span><span class="p">:</span><span class="n">LinkedArrheniusCO2</span><span class="p">,</span>
<span class="s1">&#39;sigmelts_lowwater&#39;</span><span class="p">:</span><span class="n">SIGMELTSPommier</span><span class="p">,</span>
<span class="s1">&#39;sigmelts_highwater&#39;</span><span class="p">:</span><span class="n">SIGMELTSGaillaird</span><span class="p">,</span>
<span class="s1">&#39;brinePTdependence&#39;</span><span class="p">:</span><span class="n">BrinePTDependent</span><span class="p">}</span>



<span class="k">def</span> <span class="nf">_count_positional_args_required</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    counts the number of positional arguments required for a function</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    func : function</span>
<span class="sd">        the function to count the positional arguments for</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    int</span>
<span class="sd">        the number of positional arguments required for the function</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">signature</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="n">empty</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">Parameter</span><span class="o">.</span><span class="n">empty</span>
    <span class="n">total</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">signature</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">param</span><span class="o">.</span><span class="n">default</span> <span class="ow">is</span> <span class="n">empty</span><span class="p">:</span>
            <span class="n">total</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">total</span>



<span class="k">def</span> <span class="nf">_create_multiple_MultiMechanism</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; </span>
<span class="sd">    creates a MultiMechanism from a row in the database</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    row : pd.Series</span>
<span class="sd">        a row in the database</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    MultiMechanism</span>
<span class="sd">        a MultiMechanism</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">potential_MultiMechanism</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;eq_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">)]</span>
    <span class="n">constants</span> <span class="o">=</span> <span class="n">create_constants_from_row</span><span class="p">(</span><span class="n">row</span><span class="p">)[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">mech_list</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">pot_mech</span> <span class="ow">in</span> <span class="n">potential_MultiMechanism</span><span class="p">:</span>
        <span class="n">n_constants</span> <span class="o">=</span> <span class="n">model_dict</span><span class="p">[</span><span class="n">pot_mech</span><span class="p">]</span><span class="o">.</span><span class="n">n_args</span><span class="p">()</span>
        <span class="k">assert</span> <span class="n">n_constants</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">constants</span><span class="p">),</span> <span class="sa">f</span><span class="s2">&quot;not enough constants for eqid: </span><span class="si">{</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;entry_id&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="n">row</span><span class="si">}</span><span class="s2">. Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">constants</span><span class="p">)</span><span class="si">}</span><span class="s2"> but should have </span><span class="si">{</span><span class="n">n_constants</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">specific_constants</span> <span class="o">=</span> <span class="p">[</span><span class="n">constants</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_constants</span><span class="p">)]</span>
        <span class="n">mechanism</span> <span class="o">=</span> <span class="n">model_dict</span><span class="p">[</span><span class="n">pot_mech</span><span class="p">](</span><span class="o">*</span><span class="n">specific_constants</span><span class="p">)</span>
        <span class="n">mech_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mechanism</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">MultiMechanism</span><span class="p">(</span><span class="n">mech_list</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_create_single_mechanism</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    creates a single mechanism from a row in the database</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    row : pd.Series</span>
<span class="sd">        a row in the database</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    mechanism : Mechanism</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">mechanism</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;eq_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="n">target_mechanism</span> <span class="o">=</span> <span class="n">model_dict</span><span class="p">[</span><span class="n">mechanism</span><span class="p">]</span>
    <span class="n">constants</span> <span class="o">=</span> <span class="n">create_constants_from_row</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">constants</span><span class="p">)</span> <span class="o">==</span> <span class="n">target_mechanism</span><span class="o">.</span><span class="n">n_args</span><span class="p">(),</span> <span class="s2">&quot;Incorrect constant number defined for mechanism. &quot;</span> <span class="o">+</span> \
                                                        <span class="s2">&quot;Should have: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">target_mechanism</span><span class="o">.</span><span class="n">n_args</span><span class="p">())</span> <span class="o">+</span> <span class="s2">&quot; but found &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">constants</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot; in file</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> \
                                                        <span class="s2">&quot;Check database entry &quot;</span> <span class="o">+</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;entry_id&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; against &quot;</span> <span class="o">+</span> \
                                                        <span class="nb">str</span><span class="p">(</span><span class="n">target_mechanism</span><span class="p">)</span>
    <span class="n">mechanism</span> <span class="o">=</span> <span class="n">target_mechanism</span><span class="p">(</span><span class="o">*</span><span class="n">constants</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">mechanism</span>


<div class="viewcode-block" id="create_mechanism_from_row">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.create_mechanism_from_row">[docs]</a>
<span class="k">def</span> <span class="nf">create_mechanism_from_row</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mechanism</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    creates a mechanism from a row in the database</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    row : pd.Series</span>
<span class="sd">        a row in the database</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    mechanism : Mechanism</span>
<span class="sd">        a mechanism</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">mechanism</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;eq_id&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="s1">&#39;+&#39;</span> <span class="ow">in</span> <span class="n">mechanism</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_create_multiple_MultiMechanism</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_create_single_mechanism</span><span class="p">(</span><span class="n">row</span><span class="p">)</span></div>



<div class="viewcode-block" id="get_const_rows">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.get_const_rows">[docs]</a>
<span class="k">def</span> <span class="nf">get_const_rows</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    creates a list of the row keys that are not StochasticConstants</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    row : pd.Series</span>
<span class="sd">        a row in the database</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list of str</span>
<span class="sd">        a list of the row keys that are not StochasticConstants</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">non_constant_row_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Title&#39;</span><span class="p">,</span><span class="s1">&#39;Author&#39;</span><span class="p">,</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span><span class="s1">&#39;DOI&#39;</span><span class="p">,</span><span class="s1">&#39;Phase Type&#39;</span><span class="p">,</span><span class="s1">&#39;Description&#39;</span><span class="p">,</span><span class="s1">&#39;Sample Type&#39;</span><span class="p">,</span>
                             <span class="s1">&#39;Equation Form&#39;</span><span class="p">,</span><span class="s1">&#39;Eq ID&#39;</span><span class="p">,</span><span class="s1">&#39;Publication ID&#39;</span><span class="p">,</span><span class="s1">&#39;Entry ID&#39;</span><span class="p">,</span><span class="s1">&#39;Complete or Partial Fit&#39;</span><span class="p">,</span>
                             <span class="s1">&#39;Composite or single&#39;</span><span class="p">,</span><span class="s1">&#39;Pressure Average&#39;</span><span class="p">,</span><span class="s1">&#39;Pressure Min&#39;</span><span class="p">,</span><span class="s1">&#39;Pressure Max&#39;</span><span class="p">,</span><span class="s1">&#39;Temp Min&#39;</span><span class="p">,</span>
                             <span class="s1">&#39;Temp Max&#39;</span><span class="p">,</span><span class="s1">&#39;Water Min&#39;</span><span class="p">,</span><span class="s1">&#39;Water Max&#39;</span><span class="p">,</span><span class="s1">&#39;Water Average&#39;</span><span class="p">,</span><span class="s1">&#39;water calibration&#39;</span><span class="p">,</span><span class="s1">&#39;Water units&#39;</span><span class="p">,</span>
                             <span class="s1">&#39;Iron Min&#39;</span><span class="p">,</span><span class="s1">&#39;Iron Max&#39;</span><span class="p">,</span><span class="s1">&#39;Iron Average&#39;</span><span class="p">,</span><span class="s1">&#39;Iron units&#39;</span><span class="p">,</span><span class="s1">&#39;fO2 buffers used&#39;</span><span class="p">,</span><span class="s1">&#39;Crystal Direction&#39;</span><span class="p">,</span><span class="s1">&#39;Fitting Comments&#39;</span><span class="p">]</span>
    <span class="c1"># insert op here. r</span>
    <span class="n">non_const_keys_lower_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">non_constant_row_keys</span><span class="p">)</span>
    
    <span class="c1"># Filter for keys that do not have a corresponding case-insensitive match in the non-constant row keys</span>
    <span class="n">potential_row_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">key</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">row</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">non_const_keys_lower_set</span><span class="p">]</span>
    <span class="n">letter_rows</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">&#39;_&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">x</span><span class="p">,</span> <span class="n">potential_row_ids</span><span class="p">))</span>
    <span class="n">valid_letter_rows</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">x</span><span class="p">])),</span> <span class="n">letter_rows</span><span class="p">)),</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">valid_letter_rows</span></div>



<div class="viewcode-block" id="create_constants_from_row">
<a class="viewcode-back" href="../../api.html#pyrrhenius.mechanisms.create_constants_from_row">[docs]</a>
<span class="k">def</span> <span class="nf">create_constants_from_row</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    creates a list of StochasticConstants from a row in the database</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    row : pd.Series</span>
<span class="sd">        a row in the database</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list of StochasticConstants</span>
<span class="sd">        a list of StochasticConstants</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">letter_columns</span> <span class="o">=</span> <span class="n">get_const_rows</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">variables</span> <span class="o">=</span> <span class="p">[</span><span class="n">StochasticConstant</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">],</span>
                                                   <span class="n">row</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s1">_uncertainty&#39;</span><span class="p">],</span>
                                                   <span class="n">row</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s1">_description&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span>
                                                   <span class="s1">&#39;log&#39;</span> <span class="ow">in</span> <span class="n">row</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s1">_description&#39;</span><span class="p">])</span>
                     <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">letter_columns</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;problems initializing &#39;</span> <span class="o">+</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;entry_id&#39;</span><span class="p">])</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="n">variables</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">variables</span></div>


</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Kevin A. Mendoza.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>